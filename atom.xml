<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>yw</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://popfly.club/"/>
  <updated>2017-07-06T01:10:41.118Z</updated>
  <id>http://popfly.club/</id>
  
  <author>
    <name>yw</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>无题</title>
    <link href="http://popfly.club/posts/20170630/snippet10.html"/>
    <id>http://popfly.club/posts/20170630/snippet10.html</id>
    <published>2017-06-30T02:43:31.000Z</published>
    <updated>2017-07-06T01:10:41.118Z</updated>
    
    <content type="html">&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;截取到小数点后几位&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;~~(num*&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt; (&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;位)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;~~(num*&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt; (&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;位)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;四舍五入取小数点后几位&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.round(num*&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;node-sass安装慢解决方法&quot;&gt;&lt;a href=&quot;#node-sass安装慢解决方法&quot; class=&quot;headerlink&quot; title=&quot;node-sass安装慢解决方法&quot;&gt;&lt;/a&gt;node-sass安装慢解决方法&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;换源&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;set SASS_BINARY_SITE=https:&lt;span class=&quot;comment&quot;&gt;//npm.taobao.org/mirrors/node-sass/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;npm install node-sass&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;
    
    </summary>
    
    
      <category term="js" scheme="http://popfly.club/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>js</title>
    <link href="http://popfly.club/posts/20170613/snippet9.html"/>
    <id>http://popfly.club/posts/20170613/snippet9.html</id>
    <published>2017-06-13T02:35:53.000Z</published>
    <updated>2017-06-30T02:46:06.439Z</updated>
    
    <content type="html">&lt;h3 id=&quot;图片懒加载&quot;&gt;&lt;a href=&quot;#图片懒加载&quot; class=&quot;headerlink&quot; title=&quot;图片懒加载&quot;&gt;&lt;/a&gt;图片懒加载&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isInViewport = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;el&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rect = el.getBoundingClientRect();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; rect.bottom &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        rect.right &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        rect.left &amp;lt; (&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.innerWidth || &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;. documentElement.clientWidth) &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        rect.top &amp;lt; (&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.innerHeight || &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;. documentElement.clientHeight);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; getByClassName = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;classNames&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.querySelectorAll(&lt;span class=&quot;string&quot;&gt;&quot;.&quot;&lt;/span&gt; + classNames.replace(&lt;span class=&quot;regexp&quot;&gt;/\s+/&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;.&quot;&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementsByClassName)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	  &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementsByClassName = getByClassName;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; lazyload = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; lazyload)) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; lazyload();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ll = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		ll.initListen();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; loadimg = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;ele,fn&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; img = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Image();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; src = ele.getAttribute(&lt;span class=&quot;string&quot;&gt;&#39;data-lazysrc&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			img.onerror = img.onload = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				ele.src = src;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				ele.removeAttribute(&lt;span class=&quot;string&quot;&gt;&#39;data-lazysrc&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				fn &amp;amp;&amp;amp; fn();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			img.src = src;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.handler = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; ll.llimgArr.length; i++)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(isInViewport(ll.llimgArr[i]) &amp;amp;&amp;amp; ll.llimgArr[i].getAttribute(&lt;span class=&quot;string&quot;&gt;&#39;data-lazysrc&#39;&lt;/span&gt;))&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					loadimg(ll.llimgArr[i],&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;						ll.llimgArr.splice(i,i);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.handler();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; addEventListener = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;evt, fn&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	          ? &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(evt, fn, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	          : (&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.attachEvent)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	            ? &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.attachEvent(&lt;span class=&quot;string&quot;&gt;&#39;on&#39;&lt;/span&gt; + evt, fn)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	            : &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&#39;on&#39;&lt;/span&gt; + evt] = fn;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	      &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;scroll&#39;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.handler)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	lazyload.prototype = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;attr&quot;&gt;constructor&lt;/span&gt;: lazyload,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;attr&quot;&gt;refresh&lt;/span&gt;: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;eleArr&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; llArr = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementsByClassName(&lt;span class=&quot;string&quot;&gt;&#39;lazyload&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, len = llArr.length; i &amp;lt; len; i++)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!llArr[i].getAttribute(&lt;span class=&quot;string&quot;&gt;&#39;data-lazy&#39;&lt;/span&gt;))&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.llimgArr.push(llArr[i]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					llArr[i].setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;data-lazy&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;true&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.handler();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;attr&quot;&gt;initListen&lt;/span&gt;: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; llArr = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementsByClassName(&lt;span class=&quot;string&quot;&gt;&#39;lazyload&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.llimgArr = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, len = llArr.length; i &amp;lt; len; i++)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.llimgArr.push(llArr[i]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				llArr[i].setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;data-lazy&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;true&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.lazyload = lazyload;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;eg:  &amp;lt;img data-lazysrc=&quot;picUrl&quot; src=&quot;load.gif&quot; alt=&quot;&quot; class=&quot;lazyload&quot;&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;图片懒加载&quot;&gt;&lt;a href=&quot;#图片懒加载&quot; class=&quot;headerlink&quot; title=&quot;图片懒加载&quot;&gt;&lt;/a&gt;图片懒加载&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;p
    
    </summary>
    
    
      <category term="javascript" scheme="http://popfly.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Html打开APP</title>
    <link href="http://popfly.club/posts/20170613/openapp.html"/>
    <id>http://popfly.club/posts/20170613/openapp.html</id>
    <published>2017-06-13T02:28:35.000Z</published>
    <updated>2017-06-13T02:33:16.146Z</updated>
    
    <content type="html">&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;openAPP&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ua = navigator.userAgent;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; os = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;isIOS&lt;/span&gt;:&lt;span class=&quot;regexp&quot;&gt;/(iphone|ipad|ipod|ios)/gi&lt;/span&gt;.test(ua),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;isAND&lt;/span&gt;:&lt;span class=&quot;regexp&quot;&gt;/android/gi&lt;/span&gt;.test(ua),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;isWX&lt;/span&gt;:&lt;span class=&quot;regexp&quot;&gt;/MicroMessenger/gi&lt;/span&gt;.test(ua),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;isQQ&lt;/span&gt;:&lt;span class=&quot;regexp&quot;&gt;/QQ/&lt;/span&gt;.test(ua),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;iosMax9&lt;/span&gt;:&lt;span class=&quot;regexp&quot;&gt;/OS (9_|10_)/gi&lt;/span&gt;.test(ua)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; frame = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;frame&#39;&lt;/span&gt;),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        body = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        frame.style.width = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        frame.style.height = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; kklink = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;iosSchema&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;ios schema url&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        andSchema:&lt;span class=&quot;string&quot;&gt;&#39;android schema url&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;iosLink&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;ios app url&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;appLink&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&#39;android app url&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; timer;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; now = &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;.now();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; callback = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;appLink&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        timer &amp;amp;&amp;amp; clearTimeout(timer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        frame &amp;amp;&amp;amp; body.removeChild(frame);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        timer = setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; newtime = &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;.now();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; difftime = newtime - now;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            clearTimeout(timer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(difftime &amp;lt; &lt;span class=&quot;number&quot;&gt;1300&lt;/span&gt;)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                location.href = appLink;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;,&lt;span class=&quot;number&quot;&gt;900&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(os.isAND)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.stop ? &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.stop() : &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.execCommand(&lt;span class=&quot;string&quot;&gt;&quot;Stop&quot;&lt;/span&gt;);   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(os.isWX)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        location.href = kklink.appLink;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(os.isIOS)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(os.iosMax9)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            location.href = kklink.iosSchema;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            frame.src = kklink.iosSchema;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            body.appendChild(frame);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        callback(kklink.iosLink);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(os.isAND)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        location.href = kklink.andSchema;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            callback(kklink.appLink);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#125;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; openAPP;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;
    
    </summary>
    
    
      <category term="javascript html" scheme="http://popfly.club/tags/javascript-html/"/>
    
  </entry>
  
  <entry>
    <title>https</title>
    <link href="http://popfly.club/posts/20170502/https.html"/>
    <id>http://popfly.club/posts/20170502/https.html</id>
    <published>2017-05-02T03:05:13.000Z</published>
    <updated>2017-05-02T03:08:06.691Z</updated>
    
    <content type="html">&lt;p&gt;页面请求头加入 Strict-Transport-Security，浏览器会默认采用https方式访问，提高网站速度。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;页面请求头加入 Strict-Transport-Security，浏览器会默认采用https方式访问，提高网站速度。&lt;/p&gt;

    
    </summary>
    
    
      <category term="web" scheme="http://popfly.club/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>CSSOM(CSS Object Model View)</title>
    <link href="http://popfly.club/posts/20170331/cssom.html"/>
    <id>http://popfly.club/posts/20170331/cssom.html</id>
    <published>2017-03-31T03:27:02.000Z</published>
    <updated>2017-03-31T03:36:20.184Z</updated>
    
    <content type="html">&lt;h3 id=&quot;elementFromPoint&quot;&gt;&lt;a href=&quot;#elementFromPoint&quot; class=&quot;headerlink&quot; title=&quot;elementFromPoint&quot;&gt;&lt;/a&gt;elementFromPoint&lt;/h3&gt;&lt;p&gt;返回给定坐标处所在的元素&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.elementFromPoint(x,y)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;getBoundingClientRect&quot;&gt;&lt;a href=&quot;#getBoundingClientRect&quot; class=&quot;headerlink&quot; title=&quot;getBoundingClientRect&quot;&gt;&lt;/a&gt;getBoundingClientRect&lt;/h3&gt;&lt;p&gt;获取矩形元素的界线，返回一个对象&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;element.getBoundingClientRect();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	top,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	left,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	bottom,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	right&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;getClientRects&quot;&gt;&lt;a href=&quot;#getClientRects&quot; class=&quot;headerlink&quot; title=&quot;getClientRects&quot;&gt;&lt;/a&gt;getClientRects&lt;/h3&gt;&lt;p&gt;返回元素(只针对inline box)的数个矩形区域，返回的结果是对象列表,只针对a, span, em这类标签&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;element.getClientRects();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	top,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	left,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	bottom,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	right&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;scrollIntoView&quot;&gt;&lt;a href=&quot;#scrollIntoView&quot; class=&quot;headerlink&quot; title=&quot;scrollIntoView&quot;&gt;&lt;/a&gt;scrollIntoView&lt;/h3&gt;&lt;p&gt;使元素滚动到可视区域&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;element.scrollIntoView();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;elementFromPoint&quot;&gt;&lt;a href=&quot;#elementFromPoint&quot; class=&quot;headerlink&quot; title=&quot;elementFromPoint&quot;&gt;&lt;/a&gt;elementFromPoint&lt;/h3&gt;&lt;p&gt;返回给定坐标处所在的元素&lt;/
    
    </summary>
    
    
      <category term="javascript" scheme="http://popfly.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>module</title>
    <link href="http://popfly.club/posts/20170209/module.html"/>
    <id>http://popfly.club/posts/20170209/module.html</id>
    <published>2017-02-09T06:23:30.000Z</published>
    <updated>2017-02-09T06:27:29.162Z</updated>
    
    <content type="html">&lt;p&gt;模块加载&lt;/p&gt;
&lt;h3 id=&quot;usage&quot;&gt;&lt;a href=&quot;#usage&quot; class=&quot;headerlink&quot; title=&quot;usage&quot;&gt;&lt;/a&gt;usage&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;define([],callback);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;84&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;85&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;86&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;87&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;88&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;89&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;90&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;91&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;92&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;93&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;94&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;95&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;96&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;97&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;98&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;99&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;100&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;101&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;102&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;103&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;104&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;105&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;106&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;107&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;108&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;109&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;110&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;111&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;112&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;113&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;114&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;115&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;116&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;117&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;118&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;119&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;120&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;121&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;122&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;123&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;124&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;125&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;126&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;127&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;128&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;129&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;130&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;131&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;132&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;133&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;134&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;135&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;136&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;137&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;138&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;139&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;140&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;141&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;142&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;143&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;144&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;145&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;146&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;147&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;148&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;149&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;150&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;151&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;152&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;153&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;154&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;155&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;156&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;157&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;158&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;159&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;160&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;161&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;162&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;163&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;164&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;165&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;166&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;167&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;168&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;169&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;170&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;171&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;172&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;173&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;174&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;175&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;176&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;177&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;178&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;179&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;180&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;181&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;182&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;183&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;184&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;185&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;186&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;187&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;188&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;189&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;190&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;191&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;192&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;193&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;194&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;195&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;196&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;197&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;198&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;199&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;200&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;201&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;202&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;203&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;204&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;205&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;206&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;207&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;208&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;209&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;210&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;211&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;212&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;213&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;214&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;215&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;216&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;217&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;218&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;219&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;220&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;221&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;222&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;223&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;224&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;225&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;226&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;227&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;228&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;229&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;230&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;231&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;232&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;233&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;234&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;235&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;236&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;237&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;238&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;239&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;240&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;241&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;242&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;243&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;244&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;245&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;246&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;247&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;248&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;249&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;250&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;251&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;252&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;253&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;254&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;255&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;256&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;257&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;258&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;259&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;260&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;261&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;262&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;263&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;264&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;265&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;266&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;267&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;268&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;269&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;270&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;271&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;272&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;273&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;274&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;275&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;276&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;277&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;278&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;279&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;280&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;281&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;282&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;283&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;284&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;285&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;286&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;287&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;288&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;289&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;290&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;291&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;292&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;293&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;294&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;295&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;296&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;297&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;298&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;299&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;300&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;301&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;302&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;303&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;304&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;305&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;306&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;307&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;308&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;309&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;310&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;311&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;312&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;313&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;314&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; MODULES = []; &lt;span class=&quot;comment&quot;&gt;// 存放涉及到的所有模块的信息，包含每个模块的url、依赖和回调&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; STATUS = &amp;#123;&amp;#125;; &lt;span class=&quot;comment&quot;&gt;// 模块的状态&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; RESULTS = &amp;#123;&amp;#125;; &lt;span class=&quot;comment&quot;&gt;// 模块的回调返回的结果&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; STACK = []; &lt;span class=&quot;comment&quot;&gt;// 当前待加载的模块栈&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; seed = +&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; LOADING = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// 加载中&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; WAITING = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// 等待中&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; DEFINED = &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// 已定义&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * 格式化地址，取绝对路径&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;arr&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	    arr.forEach(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;item&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        item.remove = item.remove || &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	            &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.parentNode.removeChild(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;)([Element.prototype, CharacterData.prototype, DocumentType.prototype]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; formatURL = (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;a&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		a.style.display = &lt;span class=&quot;string&quot;&gt;&#39;none&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body.appendChild(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 相对路径转绝对路径&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; getAbsoluteURL = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;url&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 利用浏览器特性，通过使用a标签来获取绝对路径&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			a.href = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; href = a.href;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			a.parentNode &amp;amp;&amp;amp; a.parentNode.removeChild(a);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; href;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;url, base&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!url) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(url.indexOf(&lt;span class=&quot;string&quot;&gt;&#39;://&#39;&lt;/span&gt;) &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; getAbsoluteURL(url); &lt;span class=&quot;comment&quot;&gt;// 已经是绝对路径的情况&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(base &amp;amp;&amp;amp; url.indexOf(&lt;span class=&quot;string&quot;&gt;&#39;.&#39;&lt;/span&gt;) == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) url = base.replace(&lt;span class=&quot;regexp&quot;&gt;/[^\/]*$/&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;) + url; &lt;span class=&quot;comment&quot;&gt;// 以.开始的相对路径，则获取url路径的上一级，再补在相对路径前面&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; getAbsoluteURL(url); &lt;span class=&quot;comment&quot;&gt;// 格式化成绝对路径&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * 处理模块进入等待队列&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; runLoading = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;url, deps, callback&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 如果自身是内嵌脚本的话，则使用时间戳作为url&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; url !== &lt;span class=&quot;string&quot;&gt;&#39;string&#39;&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			callback = deps;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			deps = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			url = &lt;span class=&quot;string&quot;&gt;&#39;./&#39;&lt;/span&gt; + (seed++) + &lt;span class=&quot;string&quot;&gt;&#39;.js&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		url = formatURL(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(STATUS[url] === DEFINED) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// 已定义&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 加载依赖模块&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,l=deps.length; i&amp;lt;l; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			deps[i] = formatURL((deps[i] || &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;), url); &lt;span class=&quot;comment&quot;&gt;// 格式化依赖列表中的url&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			loadResource(deps[i]); &lt;span class=&quot;comment&quot;&gt;// 加载资源&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		STATUS[url] = WAITING; &lt;span class=&quot;comment&quot;&gt;// 存在依赖，当前模块标记为等待中&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 放进模块队列中&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		MODULES.push(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;attr&quot;&gt;url&lt;/span&gt;: url,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;attr&quot;&gt;deps&lt;/span&gt;: deps,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;attr&quot;&gt;callback&lt;/span&gt;: callback&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 检查等待中的模块&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		runWaiting();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * 对等待中的模块进行定义&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; runWaiting = (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 检查所有文件是否都载入&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isFinishLoaded = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; url &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; STATUS) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(STATUS[url] === LOADING) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 检查依赖列表是否都载入完成&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isListLoaded = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;deps&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i=deps.length&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;; i&amp;gt;=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i--) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(STATUS[deps[i]] !== DEFINED) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!MODULES.length) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i=MODULES.length&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;; i &amp;gt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; ) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; item = MODULES[i];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(STATUS[item.url] !== DEFINED) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!isListLoaded(item.deps)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;						&lt;span class=&quot;comment&quot;&gt;// 存在未定义的文件，且依赖列表中也存在未定义的文件，则跳过&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;						i--;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;						&lt;span class=&quot;keyword&quot;&gt;continue&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;						&lt;span class=&quot;comment&quot;&gt;// 依赖列表中的文件都已定义，则进行定义自己&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;						runDefining(item);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;comment&quot;&gt;// 删除已经定义的文件，然后重新遍历&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				MODULES.splice(i, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				i = MODULES.length - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(MODULES.length&amp;gt;&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; isFinishLoaded()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;comment&quot;&gt;// 存在循环引用，可以尝试强行定义，不过只能解决弱依赖引用，无法解决强依赖引用&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; item = MODULES.pop();    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				runDefining(item);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				runWaiting();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * 执行模块定义&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; runDefining = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;item&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; args = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 遍历依赖列表&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,len=item.deps.length; i&amp;lt;len; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; it = item.deps[i];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			RESULTS[it] = RESULTS[it] || &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			args.push(RESULTS[it]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(item.callback) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 注入依赖并执行&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; result = item.callback.apply(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;, args) || &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 合并依赖注入结果		&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ret = RESULTS[item.url] || &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; result === &lt;span class=&quot;string&quot;&gt;&#39;object&#39;&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; key &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; result) &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				ret[key] = result[key];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				ret = result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 将定义好的文件放入缓存&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			RESULTS[item.url] = ret;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		STATUS[item.url] = DEFINED;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * 解析文件类型，并进行加载&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; loadResource = (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 载入依赖文本&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; loadText = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;url, callback&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!url) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 未加载过&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(STATUS[url] != &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 加载文本&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			STATUS[url] = LOADING; &lt;span class=&quot;comment&quot;&gt;// 标记为加载中&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; xhr = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.XMLHttpRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			xhr.onreadystatechange = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(xhr.readyState == &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; text = xhr.responseText || &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					STATUS[url] = DEFINED; &lt;span class=&quot;comment&quot;&gt;// 标记为已定义&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					RESULTS[url] = text; &lt;span class=&quot;comment&quot;&gt;// 储存结果&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(callback) callback(text); &lt;span class=&quot;comment&quot;&gt;// 针对json的处理&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;comment&quot;&gt;// 加载完后检查等待中的模块&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					runWaiting();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			xhr.open(&lt;span class=&quot;string&quot;&gt;&#39;GET&#39;&lt;/span&gt;, url, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			xhr.send(&lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 载入依赖JSON&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; loadJSON = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;url&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			loadText(url, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;text&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;comment&quot;&gt;// 解析JSON&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				RESULTS[url] = &lt;span class=&quot;built_in&quot;&gt;JSON&lt;/span&gt;.parse(text);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 载入依赖脚本&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; loadScript = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;url&lt;/span&gt;) &lt;/span&gt;&amp;#123;			&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(STATUS[url]) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// 已加载则返回&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			STATUS[url] = LOADING; &lt;span class=&quot;comment&quot;&gt;// 标记当前模块为加载中&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 使用script标签添加到文档中，加载运行完再删除&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; script = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;script&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			script.nowhasload = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			script.type = &lt;span class=&quot;string&quot;&gt;&#39;text/javascript&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			script.charset = &lt;span class=&quot;string&quot;&gt;&#39;utf-8&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			addScriptListener(script); &lt;span class=&quot;comment&quot;&gt;// 监听脚本加载运行&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			script.src = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementsByTagName(&lt;span class=&quot;string&quot;&gt;&#39;head&#39;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] || &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.body).appendChild(script);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;url&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; arr = url.split(&lt;span class=&quot;string&quot;&gt;&#39;.&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; type = arr.pop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(type === &lt;span class=&quot;string&quot;&gt;&#39;js&#39;&lt;/span&gt;) loadScript(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(type === &lt;span class=&quot;string&quot;&gt;&#39;json&#39;&lt;/span&gt;) loadJSON(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; loadText(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * 侦测脚本载入情况&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; addScriptListener = (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 脚本载入完成回调&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; onScriptLoad = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;script&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; url = formatURL(script.src);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!url) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 检查栈中缓存&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; arr = STACK.pop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(arr) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				arr.unshift(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				runLoading.apply(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;, arr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 当前模块不处于等待中的话，则标记为已定义&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(STATUS[url] !== WAITING)  STATUS[url] = DEFINED;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 清理脚本节点&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(script &amp;amp;&amp;amp; script.parentNode) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;comment&quot;&gt;// 清除事件&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				script.onload = script.onerror = &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;comment&quot;&gt;// 清除script标签&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				script.parentNode.removeChild(script);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 加载完后检查等待中的模块&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			runWaiting();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;script&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;comment&quot;&gt;// 加载成功 或 失败&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			script.onload = script.onerror = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				onScriptLoad(e.target || e.srcElement || &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 * 暴露出去的define接口&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.define = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;deps, callback&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; args = [].slice.call(&lt;span class=&quot;built_in&quot;&gt;arguments&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		STACK.push(args);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// 对于页面中仍未被检测过的脚本进行处理&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; list = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementsByTagName(&lt;span class=&quot;string&quot;&gt;&#39;script&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i=list.length&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;; i&amp;gt;=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i--) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; script = list[i];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!script.nowhasload) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				script.nowhasload = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!script.src &amp;amp;&amp;amp; script.innerHTML.search(&lt;span class=&quot;regexp&quot;&gt;/\s*define\s*\(/&lt;/span&gt;) &amp;gt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;comment&quot;&gt;// 内嵌模块定义语句脚本&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					args = STACK.pop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt;(args) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;						runLoading.apply(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;, args);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;						args = STACK.pop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;comment&quot;&gt;// 外嵌模块定义语句脚本&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					addScriptListener(list[i]); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;模块加载&lt;/p&gt;
&lt;h3 id=&quot;usage&quot;&gt;&lt;a href=&quot;#usage&quot; class=&quot;headerlink&quot; title=&quot;usage&quot;&gt;&lt;/a&gt;usage&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;define([],callback);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="http://popfly.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>iMessage加载url</title>
    <link href="http://popfly.club/posts/20161214/iOSProblem.html"/>
    <id>http://popfly.club/posts/20161214/iOSProblem.html</id>
    <published>2016-12-14T04:37:46.000Z</published>
    <updated>2017-01-05T12:26:10.167Z</updated>
    
    <content type="html">&lt;h3 id=&quot;iMessage加载url时设置预览图&quot;&gt;&lt;a href=&quot;#iMessage加载url时设置预览图&quot; class=&quot;headerlink&quot; title=&quot;iMessage加载url时设置预览图&quot;&gt;&lt;/a&gt;iMessage加载url时设置预览图&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/images/iMessage.png&quot; alt=&quot;iMessage.png&quot;&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;meta property=&amp;quot;og:image&amp;quot; content=&amp;quot;https://图片地址&amp;quot;/&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;iMessage加载url时设置预览图&quot;&gt;&lt;a href=&quot;#iMessage加载url时设置预览图&quot; class=&quot;headerlink&quot; title=&quot;iMessage加载url时设置预览图&quot;&gt;&lt;/a&gt;iMessage加载url时设置预览图&lt;/h3&gt;&lt;p&gt;&lt;i
    
    </summary>
    
      <category term="iOS 前端" scheme="http://popfly.club/categories/iOS-%E5%89%8D%E7%AB%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>ios 惯性滚动</title>
    <link href="http://popfly.club/posts/20161206/iosUIView.html"/>
    <id>http://popfly.club/posts/20161206/iosUIView.html</id>
    <published>2016-12-06T08:27:53.000Z</published>
    <updated>2017-01-05T12:21:44.751Z</updated>
    
    <content type="html">&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;ul&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	-webkit-overflow-scrolling: touch;//ios私有&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	overflow:scroll;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;-webkit-overflow-scrolling: touch(原生的滚动效果。使用此效果会构造一个 stacking context) | auto(普通的无惯性滚动效果);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;touch-一些坑&quot;&gt;&lt;a href=&quot;#touch-一些坑&quot; class=&quot;headerlink&quot; title=&quot;touch:一些坑&quot;&gt;&lt;/a&gt;touch:一些坑&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;滚动中 scrollTop 属性不会变化&lt;/li&gt;
&lt;li&gt;手势可穿过其他元素触发元素滚动&lt;/li&gt;
&lt;li&gt;滚动时暂停其他 transition  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;解决方案：    &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- 使用 WKWebView（支持ios8以上系统） 替换 UIWebView 内核
- 针对UIWebView 可以设置_webView.scrollView.decelerationRate = UIScrollViewDecelerationRateNormal;（设置UIWebView的scrollView的减速率）
  减速率默认是：0.989324，UIScrollViewDecelerationRateNormal：0.998000，UIScrollViewDecelerationRateFast：0.990000
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;引申 &lt;a href=&quot;https://segmentfault.com/a/1190000002783265&quot; title=&quot;stacking content&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;stacking context&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/di
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>npm error</title>
    <link href="http://popfly.club/posts/20161125/npm.html"/>
    <id>http://popfly.club/posts/20161125/npm.html</id>
    <published>2016-11-25T11:50:52.000Z</published>
    <updated>2017-01-05T12:32:37.783Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/images/npm-error.png&quot; alt=&quot;npm error&quot;&gt;    &lt;/p&gt;
&lt;p&gt;方法一、 package.json中添加version属性&lt;br&gt;方法二、修改npm_prompt.lua文件&lt;br&gt;&lt;img src=&quot;/images/npm-fix.png&quot; alt=&quot;npm fix&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/npm-error.png&quot; alt=&quot;npm error&quot;&gt;    &lt;/p&gt;
&lt;p&gt;方法一、 package.json中添加version属性&lt;br&gt;方法二、修改npm_prompt.lua文件&lt;br&gt;&lt;img src=&quot;/images
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>js snippet(8)</title>
    <link href="http://popfly.club/posts/20160816/snippet8.html"/>
    <id>http://popfly.club/posts/20160816/snippet8.html</id>
    <published>2016-08-16T10:05:44.000Z</published>
    <updated>2017-01-05T12:23:15.672Z</updated>
    
    <content type="html">&lt;h3 id=&quot;监听chrome打开dev-tool&quot;&gt;&lt;a href=&quot;#监听chrome打开dev-tool&quot; class=&quot;headerlink&quot; title=&quot;监听chrome打开dev-tool&quot;&gt;&lt;/a&gt;监听chrome打开dev-tool&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;(function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  var re = /x/;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  var i = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  console.log(re);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  re.toString = function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		    return &amp;apos;第 &amp;apos; + (++i) + &amp;apos; 次打开控制台&amp;apos;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;)();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;xml转json&quot;&gt;&lt;a href=&quot;#xml转json&quot; class=&quot;headerlink&quot; title=&quot;xml转json&quot;&gt;&lt;/a&gt;xml转json&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;xmlToJson&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;xml&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// Create the return object&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; obj = &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (xml.nodeType == &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123; &lt;span class=&quot;comment&quot;&gt;// element&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// do attributes&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (xml.attributes.length &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		obj[&lt;span class=&quot;string&quot;&gt;&quot;@attributes&quot;&lt;/span&gt;] = &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; j = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; j &amp;lt; xml.attributes.length; j++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; attribute = xml.attributes.item(j);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				obj[&lt;span class=&quot;string&quot;&gt;&quot;@attributes&quot;&lt;/span&gt;][attribute.nodeName] = attribute.nodeValue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (xml.nodeType == &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;) &amp;#123; &lt;span class=&quot;comment&quot;&gt;// text&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		obj = xml.nodeValue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// do children&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (xml.hasChildNodes()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; xml.childNodes.length; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; item = xml.childNodes.item(i);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; nodeName = item.nodeName;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt;(obj[nodeName]) == &lt;span class=&quot;string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				obj[nodeName] = xmlToJson(item);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt;(obj[nodeName].push) == &lt;span class=&quot;string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; old = obj[nodeName];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					obj[nodeName] = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					obj[nodeName].push(old);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				obj[nodeName].push(xmlToJson(item));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; obj;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;自定义事件&quot;&gt;&lt;a href=&quot;#自定义事件&quot; class=&quot;headerlink&quot; title=&quot;自定义事件&quot;&gt;&lt;/a&gt;自定义事件&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;exports&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; Event = &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.defineProperty(Event, &lt;span class=&quot;string&quot;&gt;&quot;_cbQueue&quot;&lt;/span&gt;, &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	  &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt; : &amp;#123;&amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	  &lt;span class=&quot;attr&quot;&gt;writable&lt;/span&gt; : &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	  &lt;span class=&quot;attr&quot;&gt;enumerable&lt;/span&gt; : &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	  &lt;span class=&quot;attr&quot;&gt;configurable&lt;/span&gt; : &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Event.on = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;type, handler&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._cbQueue = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._cbQueue || &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._cbQueue[type] = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._cbQueue[type]|| [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._cbQueue[type].push(handler);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Event.emit = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;type, data&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._cbQueue[type]) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._cbQueue[type].forEach(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;cb&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        cb(data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  exports.Event = Event;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Test&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Event.on(&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;result&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(result);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Event.on(&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;result&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Event.emit(&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;hello world&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Test&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; person1 = &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; person2 = &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.assign(person1, Event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.assign(person2, Event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;person1.on(&lt;span class=&quot;string&quot;&gt;&quot;call1&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;person1&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;person2.on(&lt;span class=&quot;string&quot;&gt;&quot;call2&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;person2&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;函数节流&quot;&gt;&lt;a href=&quot;#函数节流&quot; class=&quot;headerlink&quot; title=&quot;函数节流&quot;&gt;&lt;/a&gt;函数节流&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/* 事件停止被触发N秒后才会再次触发回调&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;Function&amp;#125; func - 回调执行函数&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;String&amp;#125; wait - 触发间隔&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;Boolean&amp;#125; immediate - 是否延时执行&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;debounce&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;func, wait, immediate&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; timeout;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; context = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, args = &lt;span class=&quot;built_in&quot;&gt;arguments&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; later = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            timeout = &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!immediate) func.apply(context, args);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; callNow = immediate &amp;amp;&amp;amp; !timeout;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        clearTimeout(timeout);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        timeout = setTimeout(later, wait);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (callNow) func.apply(context, args);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Usage&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; myEfficientFn = debounce(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// todo&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;, &lt;span class=&quot;number&quot;&gt;250&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;resize&#39;&lt;/span&gt;, myEfficientFn);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;轮询条件函数&quot;&gt;&lt;a href=&quot;#轮询条件函数&quot; class=&quot;headerlink&quot; title=&quot;轮询条件函数&quot;&gt;&lt;/a&gt;轮询条件函数&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/* 轮询条件函数，根据状态执行相应回调&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;Function&amp;#125; fn- 条件函数&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;Function&amp;#125; callback - 成功回调&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;Function&amp;#125; errback - 失败回调&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;int&amp;#125; timeout - 超时间隔&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;int&amp;#125; interval - 轮询间隔&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;poll&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;fn, callback, errback, timeout, interval&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; endTime = &lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;()) + (timeout || &lt;span class=&quot;number&quot;&gt;2000&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    interval = interval || &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;p&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// If the condition is met, we&#39;re done! &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(fn()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                callback();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// If the condition isn&#39;t met but the timeout hasn&#39;t elapsed, go again&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;()) &amp;lt; endTime) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                setTimeout(p, interval);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Didn&#39;t match and too much time, reject!&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                errback(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Error&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;timed out for &#39;&lt;/span&gt; + fn + &lt;span class=&quot;string&quot;&gt;&#39;: &#39;&lt;/span&gt; + &lt;span class=&quot;built_in&quot;&gt;arguments&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;)();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Usage:  ensure element is visible&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;poll(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;lightbox&#39;&lt;/span&gt;).offsetWidth &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Done, success callback&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Error, failure callback&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;元素添加on方法&quot;&gt;&lt;a href=&quot;#元素添加on方法&quot; class=&quot;headerlink&quot; title=&quot;元素添加on方法&quot;&gt;&lt;/a&gt;元素添加on方法&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Element.prototype.on = Element.prototype.addEventListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;NodeList.prototype.on = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event, fn&lt;/span&gt;) &lt;/span&gt;&amp;#123;、&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    [][&lt;span class=&quot;string&quot;&gt;&#39;forEach&#39;&lt;/span&gt;].call(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;el&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        el.on(event, fn);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;元素添加trigger方法&quot;&gt;&lt;a href=&quot;#元素添加trigger方法&quot; class=&quot;headerlink&quot; title=&quot;元素添加trigger方法&quot;&gt;&lt;/a&gt;元素添加trigger方法&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Element.prototype.trigger = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;type, data&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; event = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createEvent(&lt;span class=&quot;string&quot;&gt;&#39;HTMLEvents&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    event.initEvent(type, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    event.data = data || &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    event.eventName = type;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    event.target = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.dispatchEvent(event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;NodeList.prototype.trigger = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    [][&lt;span class=&quot;string&quot;&gt;&#39;forEach&#39;&lt;/span&gt;].call(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;el&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        el[&lt;span class=&quot;string&quot;&gt;&#39;trigger&#39;&lt;/span&gt;](event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;星级评分&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; rate = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;★★★★★☆☆☆☆☆&quot;&lt;/span&gt;.slice(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt; - rate, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt; - rate);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;监听chrome打开dev-tool&quot;&gt;&lt;a href=&quot;#监听chrome打开dev-tool&quot; class=&quot;headerlink&quot; title=&quot;监听chrome打开dev-tool&quot;&gt;&lt;/a&gt;监听chrome打开dev-tool&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;(function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  var re = /x/;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  var i = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  console.log(re);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  re.toString = function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		    return &amp;apos;第 &amp;apos; + (++i) + &amp;apos; 次打开控制台&amp;apos;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		  &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;)();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;xml转json&quot;&gt;&lt;a href=&quot;#xml转json&quot; class=&quot;headerlink&quot; title=&quot;xml转json&quot;&gt;&lt;/a&gt;xml转json&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;xmlToJson&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;xml&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// Create the return object&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; obj = &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (xml.nodeType == &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123; &lt;span class=&quot;comment&quot;&gt;// element&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;// do attributes&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (xml.attributes.length &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		obj[&lt;span class=&quot;string&quot;&gt;&quot;@attributes&quot;&lt;/span&gt;] = &amp;#123;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; j = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; j &amp;lt; xml.attributes.length; j++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; attribute = xml.attributes.item(j);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				obj[&lt;span class=&quot;string&quot;&gt;&quot;@attributes&quot;&lt;/span&gt;][attribute.nodeName] = attribute.nodeValue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (xml.nodeType == &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;) &amp;#123; &lt;span class=&quot;comment&quot;&gt;// text&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		obj = xml.nodeValue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// do children&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (xml.hasChildNodes()) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; xml.childNodes.length; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; item = xml.childNodes.item(i);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; nodeName = item.nodeName;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt;(obj[nodeName]) == &lt;span class=&quot;string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				obj[nodeName] = xmlToJson(item);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt;(obj[nodeName].push) == &lt;span class=&quot;string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; old = obj[nodeName];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					obj[nodeName] = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;					obj[nodeName].push(old);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				obj[nodeName].push(xmlToJson(item));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; obj;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>gulp</title>
    <link href="http://popfly.club/posts/20160804/gulp.html"/>
    <id>http://popfly.club/posts/20160804/gulp.html</id>
    <published>2016-08-04T02:33:00.000Z</published>
    <updated>2017-01-05T12:21:36.726Z</updated>
    
    <content type="html">&lt;h3 id=&quot;config&quot;&gt;&lt;a href=&quot;#config&quot; class=&quot;headerlink&quot; title=&quot;config&quot;&gt;&lt;/a&gt;config&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;var fs = require(&amp;apos;fs&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var colors = require(&amp;apos;colors&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var argv = require(&amp;apos;minimist&amp;apos;)(process.argv.slice(2),&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    string:[&amp;apos;src&amp;apos;,&amp;apos;dist&amp;apos;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var destDir = argv.dist ||&amp;apos;activity&amp;apos;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var srcCLI = argv.src;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;if(!srcCLI)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;没有输入项目名称&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    process.exit();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var name = srcCLI;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;colors.setTheme(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    info: &amp;apos;cyan&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var filesPath = fs.readdirSync(&amp;apos;./actSrc/&amp;apos;,(err)=&amp;gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if(err)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        console.log(err);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;console.log(&amp;apos;=====================================================&amp;apos;.rainbow);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;console.log(`[info] `.info+`你当前监听发布环境是：`.green+`$&amp;#123;destDir&amp;#125;`.bgWhite.red+`目录下的`+`$&amp;#123;name&amp;#125;`.bgRed.white+&amp;apos;项目&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var part = new RegExp(name);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;if(part.test(filesPath))&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(`[info] `.info+`输入的项目匹配成功，监听$&amp;#123;name&amp;#125;项目`.green);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;=====================================================&amp;apos;.rainbow);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;else&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(`[info] `.info+`没有匹配到输入的项目，强制退出`.green);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;=====================================================&amp;apos;.rainbow);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    process.exit();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;module.exports = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    srcPath: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        html: `actSrc/$&amp;#123;name&amp;#125;/**/*.html`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        sass: `actSrc/$&amp;#123;name&amp;#125;/**/css/**/*.scss`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        js: `actSrc/$&amp;#123;name&amp;#125;/**/js/**/*.js`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        jsmin: `actSrc/$&amp;#123;name&amp;#125;/**/js/**/*.min.js`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageJpg: `actSrc/$&amp;#123;name&amp;#125;/**/images/**/*.+(ico)`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imagePng: `actSrc/$&amp;#123;name&amp;#125;/**/images/**/*.+(png|jpg|jpeg)`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        css: `actSrc/$&amp;#123;name&amp;#125;/**/css/**/*.css`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        map: `$&amp;#123;destDir&amp;#125;/**/map`&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    destPath : `$&amp;#123;destDir&amp;#125;/$&amp;#123;name&amp;#125;/`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mkey:&amp;apos;mi6aDP5SGwJMKdrzdEc84IPTK-MJ8EtN&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    destDir:destDir,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    src:name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;gulpfile&quot;&gt;&lt;a href=&quot;#gulpfile&quot; class=&quot;headerlink&quot; title=&quot;gulpfile&quot;&gt;&lt;/a&gt;gulpfile&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;84&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;85&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;86&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;87&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;88&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;89&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;90&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;91&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;92&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;93&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;94&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;95&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;96&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;97&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;98&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;99&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;100&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;101&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;102&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;103&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;104&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;105&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;106&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;107&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;108&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;109&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;110&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;111&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;112&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;113&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;114&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;115&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;116&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;117&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;118&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;119&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;120&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;121&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;122&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;123&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;124&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;125&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;126&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;127&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;128&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;129&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;130&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;131&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;132&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;133&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;134&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;135&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;136&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;137&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;138&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;139&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;140&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;141&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;142&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;143&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;144&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;145&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;146&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;147&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;148&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;149&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;150&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;151&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;152&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;153&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;154&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;155&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;156&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;157&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;158&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;159&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;160&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;161&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;162&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;163&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;164&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;165&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;166&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;167&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;168&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;169&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;170&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;171&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;172&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;173&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;174&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;175&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;176&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;177&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;178&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;179&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;180&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;181&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;182&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;183&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;184&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;185&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;186&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;187&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;188&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;var gulp = require(&amp;apos;gulp&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var config = require(&amp;apos;./config.js&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// 引入gulp组件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var sass = require(&amp;apos;gulp-ruby-sass&amp;apos;);      // CSS预处理/Sass编译&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var imagemin = require(&amp;apos;gulp-imagemin&amp;apos;);   // imagemin 图片压缩&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var pngquant = require(&amp;apos;imagemin-pngquant&amp;apos;); // imagemin 深度压缩&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var livereload = require(&amp;apos;gulp-livereload&amp;apos;);     // 网页自动刷新（服务器控制客户端同步刷新）&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var webserver = require(&amp;apos;gulp-webserver&amp;apos;);    // 本地服务器&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var rename = require(&amp;apos;gulp-rename&amp;apos;);     // 文件重命名&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var sourcemaps = require(&amp;apos;gulp-sourcemaps&amp;apos;);   // 来源地图&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var changed = require(&amp;apos;gulp-changed&amp;apos;);      // 只操作有过修改的文件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var concat = require(&amp;quot;gulp-concat&amp;quot;);       // 文件合并&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var minifyCss = require(&amp;apos;gulp-minify-css&amp;apos;);       // css压缩&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var clean = require(&amp;apos;gulp-clean&amp;apos;);    // 文件清理&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var rev = require(&amp;apos;gulp-rev-append&amp;apos;); //添加版本号 &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var imageminOptipng = require(&amp;apos;imagemin-optipng&amp;apos;);   //png压缩&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var imageminJpegtran = require(&amp;apos;imagemin-jpegtran&amp;apos;);  //jpg压缩&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var tinypng = require(&amp;apos;gulp-tinypng&amp;apos;); // tinypng API压缩图片&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var babel = require(&amp;apos;gulp-babel&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var uglify = require(&amp;apos;gulp-uglify&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var plumber = require(&amp;apos;gulp-plumber&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var cache = require(&amp;apos;gulp-cache&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var md5 = require(&amp;quot;gulp-md5-plus&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var notify = require(&amp;quot;gulp-notify&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var autoprefixer = require(&amp;apos;gulp-autoprefixer&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var destDir = config.destDir;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var srcPath = config.srcPath;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var destPath = config.destPath;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var mkey = config.mkey;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//var mkey = &amp;apos;Cr5WKjnVJl1ZgkWw3YDQ57bgynfoCVg4&amp;apos;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// var mkey = &amp;apos;mi6aDP5SGwJMKdrzdEc84IPTK-MJ8EtN&amp;apos;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;html&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.src(srcPath.html)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(rev())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;sass&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return sass(srcPath.sass, &amp;#123; sourcemap: true &amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .on(&amp;apos;error&amp;apos;, function (err) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            console.error(&amp;apos;Error!&amp;apos;, err.message);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            notify(err.message);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(autoprefixer(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            browsers: [&amp;apos;&amp;gt; 5%&amp;apos;],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            cascade: false,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            add: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(sourcemaps.write(&amp;apos;./map&amp;apos;))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(rev())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;css&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.src(srcPath.css)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(autoprefixer(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            browsers: [&amp;apos;&amp;gt; 5%&amp;apos;],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            cascade: false,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            add: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(rev())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;js&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.src([srcPath.js, &amp;apos;!&amp;apos; + srcPath.jsmin])&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(plumber())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(babel())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(plumber.stop())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;jsmin&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.src(srcPath.jsmin)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;jpg&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.src(config.srcPath.imageJpg)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(cache(imagemin(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            progressive: true,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            svgoPlugins: [&amp;#123; removeViewBox: false &amp;#125;],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            use: [pngquant()]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;)))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;png&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.src(srcPath.imagePng)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(cache(tinypng(mkey)))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;images&amp;apos;, [&amp;apos;png&amp;apos;, &amp;apos;jpg&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// 本地服务器&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;webserver&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    gulp.src(destDir)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(webserver(&amp;#123; // 运行gulp-webserver&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            port: &amp;apos;10245&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            livereload: true, // 启用LiveReload&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            open: false // 服务器启动时自动打开网页&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// 监听任务&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;watch&amp;apos;, function (err) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // 监听 html&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    gulp.watch(srcPath.html, [&amp;apos;html&amp;apos;, &amp;apos;images&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // 监听 scss&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    gulp.watch(srcPath.sass, [&amp;apos;sass&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // 监听 css&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    gulp.watch(srcPath.css, [&amp;apos;css&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // 监听 images&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    gulp.watch(srcPath.imageJpg, [&amp;apos;images&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    gulp.watch(srcPath.imagePng, [&amp;apos;images&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // 监听 js&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    gulp.watch(srcPath.js, [&amp;apos;js&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    gulp.watch(srcPath.jsmin, [&amp;apos;jsmin&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// 默认任务&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;build&amp;apos;, [&amp;apos;html&amp;apos;, &amp;apos;sass&amp;apos;, &amp;apos;css&amp;apos;, &amp;apos;images&amp;apos;, &amp;apos;js&amp;apos;, &amp;apos;jsmin&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;default&amp;apos;, [&amp;apos;build&amp;apos;, &amp;apos;webserver&amp;apos;, &amp;apos;watch&amp;apos;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;/* = 发布环境( Release Task )&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;-------------------------------------------------------------- */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// 清理文件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;clean&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.src(srcPath.map, &amp;#123; read: false &amp;#125;) // 清理maps文件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(clean());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// sass处理&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;sassRelease&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return sass(srcPath.sass, &amp;#123; style: &amp;apos;compressed&amp;apos; &amp;#125;) // 指明源文件路径、并进行文件匹配（编译风格：压缩）&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .on(&amp;apos;error&amp;apos;, function (err) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            console.error(&amp;apos;Error!&amp;apos;, err.message); // 显示错误信息&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(autoprefixer(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            browsers: [&amp;apos;&amp;gt; 5%&amp;apos;],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            cascade: false,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            add: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(rev())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath)); // 输出路径&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;cssRelease&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.src(srcPath.css)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(autoprefixer(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            browsers: [&amp;apos;&amp;gt; 5%&amp;apos;],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            cascade: false,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            add: true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(rev())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(minifyCss())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// 脚本压缩&amp;amp;重命名&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;jsRelease&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.src([srcPath.js, &amp;apos;!&amp;apos; + srcPath.jsmin]) // 指明源文件路径、并进行文件匹配，排除 .min.js 后缀的文件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(babel())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(uglify())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .pipe(gulp.dest(destPath)); // 输出路径&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// 打包发布&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;release&amp;apos;, [&amp;apos;clean&amp;apos;], function () &amp;#123; // 开始任务前会先执行[clean]任务&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return gulp.start(&amp;apos;sassRelease&amp;apos;, &amp;apos;cssRelease&amp;apos;, &amp;apos;jsRelease&amp;apos;, &amp;apos;images&amp;apos;); // 等[clean]任务执行完毕后再执行其他任务&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// Help &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;-------------------------------------------------------------- */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gulp.task(&amp;apos;help&amp;apos;, function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;----------------- 开发环境 -----------------&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //console.log(&amp;apos;set name=项目名称||all 默认是监听全部项目&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;npm run dev -- --src 项目名称 --dist 输出目录（默认activity）&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;---------------- 发布环境 -----------------&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;npm run release -- --src 项目名称 --dist 输出目录（默认activity）&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;gulp clean   清理文件&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;gulp sassRelease   sass处理&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;gulp cssRelease   css处理&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;gulp jsRelease js压缩&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;---------------------------------------------&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;config&quot;&gt;&lt;a href=&quot;#config&quot; class=&quot;headerlink&quot; title=&quot;config&quot;&gt;&lt;/a&gt;config&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;var fs = require(&amp;apos;fs&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var colors = require(&amp;apos;colors&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var argv = require(&amp;apos;minimist&amp;apos;)(process.argv.slice(2),&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    string:[&amp;apos;src&amp;apos;,&amp;apos;dist&amp;apos;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var destDir = argv.dist ||&amp;apos;activity&amp;apos;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var srcCLI = argv.src;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;if(!srcCLI)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;没有输入项目名称&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    process.exit();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var name = srcCLI;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;colors.setTheme(&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    info: &amp;apos;cyan&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var filesPath = fs.readdirSync(&amp;apos;./actSrc/&amp;apos;,(err)=&amp;gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if(err)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        console.log(err);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;console.log(&amp;apos;=====================================================&amp;apos;.rainbow);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;console.log(`[info] `.info+`你当前监听发布环境是：`.green+`$&amp;#123;destDir&amp;#125;`.bgWhite.red+`目录下的`+`$&amp;#123;name&amp;#125;`.bgRed.white+&amp;apos;项目&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var part = new RegExp(name);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;if(part.test(filesPath))&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(`[info] `.info+`输入的项目匹配成功，监听$&amp;#123;name&amp;#125;项目`.green);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;=====================================================&amp;apos;.rainbow);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;else&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(`[info] `.info+`没有匹配到输入的项目，强制退出`.green);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    console.log(&amp;apos;=====================================================&amp;apos;.rainbow);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    process.exit();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;module.exports = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    srcPath: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        html: `actSrc/$&amp;#123;name&amp;#125;/**/*.html`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        sass: `actSrc/$&amp;#123;name&amp;#125;/**/css/**/*.scss`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        js: `actSrc/$&amp;#123;name&amp;#125;/**/js/**/*.js`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        jsmin: `actSrc/$&amp;#123;name&amp;#125;/**/js/**/*.min.js`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageJpg: `actSrc/$&amp;#123;name&amp;#125;/**/images/**/*.+(ico)`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imagePng: `actSrc/$&amp;#123;name&amp;#125;/**/images/**/*.+(png|jpg|jpeg)`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        css: `actSrc/$&amp;#123;name&amp;#125;/**/css/**/*.css`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        map: `$&amp;#123;destDir&amp;#125;/**/map`&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    destPath : `$&amp;#123;destDir&amp;#125;/$&amp;#123;name&amp;#125;/`,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mkey:&amp;apos;mi6aDP5SGwJMKdrzdEc84IPTK-MJ8EtN&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    destDir:destDir,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    src:name&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>移动端适配方案</title>
    <link href="http://popfly.club/posts/20160728/flexible.html"/>
    <id>http://popfly.club/posts/20160728/flexible.html</id>
    <published>2016-07-28T07:36:45.000Z</published>
    <updated>2017-01-05T12:20:12.360Z</updated>
    
    <content type="html">&lt;h3 id=&quot;一-需指定meta&quot;&gt;&lt;a href=&quot;#一-需指定meta&quot; class=&quot;headerlink&quot; title=&quot;一 需指定meta&quot;&gt;&lt;/a&gt;一 需指定meta&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;(设计图元素尺寸/100)rem;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no&amp;quot;&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;quot;use strict&amp;quot;;(function()&amp;#123;var c;var b=window.document;function a()&amp;#123;var g=navigator.userAgent;var f=g.match(/iphone/i);var j=screen.width&amp;gt;0?window.innerWidth&amp;gt;=screen.width||window.innerWidth==0?screen.width:window.innerWidth:window.innerWidth,d,k;if(window.devicePixelRatio)&amp;#123;d=window.devicePixelRatio&amp;#125;else&amp;#123;d=f?j&amp;gt;818?3:j&amp;gt;480?2:1:1&amp;#125;if(f)&amp;#123;j=screen.width&amp;#125;k=j&amp;gt;1080?144:j/7.5;k=k&amp;gt;32?k:32;window.screenWidth_=j;if(/Android|webOS|iPhone|iPod|BlackBerry|NOKIA|Lumia|ipad/i.test(g))&amp;#123;b.getElementsByTagName(&amp;quot;html&amp;quot;)[0].dataset.dpr=d;b.getElementsByTagName(&amp;quot;html&amp;quot;)[0].style.fontSize=k+&amp;quot;px&amp;quot;&amp;#125;else&amp;#123;b.getElementsByTagName(&amp;quot;html&amp;quot;)[0].dataset.dpr=&amp;quot;0&amp;quot;;b.getElementsByTagName(&amp;quot;html&amp;quot;)[0].style.fontSize=&amp;quot;100px&amp;quot;&amp;#125;&amp;#125;a();window.addEventListener(&amp;quot;resize&amp;quot;,function()&amp;#123;if(c)&amp;#123;clearTimeout(c)&amp;#125;c=setTimeout(a,300)&amp;#125;,false);window.addEventListener(&amp;quot;pageshow&amp;quot;,function(d)&amp;#123;if(d.persisted)&amp;#123;if(c)&amp;#123;clearTimeout(c)&amp;#125;c=setTimeout(a,300)&amp;#125;&amp;#125;,false)&amp;#125;)();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;二-不需指定meta-自动进行缩放。&quot;&gt;&lt;a href=&quot;#二-不需指定meta-自动进行缩放。&quot; class=&quot;headerlink&quot; title=&quot;二 不需指定meta,自动进行缩放。&quot;&gt;&lt;/a&gt;二 不需指定meta,自动进行缩放。&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;(设计图元素尺寸/75)rem;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;!function(a,b)&amp;#123;function c()&amp;#123;var b=f.getBoundingClientRect().width;b/i&amp;gt;540&amp;amp;&amp;amp;(b=540*i);var c=b/10;f.style.fontSize=c+&amp;quot;px&amp;quot;,k.rem=a.rem=c&amp;#125;var d,e=a.document,f=e.documentElement,g=e.querySelector(&amp;apos;meta[name=&amp;quot;viewport&amp;quot;]&amp;apos;),h=e.querySelector(&amp;apos;meta[name=&amp;quot;flexible&amp;quot;]&amp;apos;),i=0,j=0,k=b.flexible||(b.flexible=&amp;#123;&amp;#125;);if(g)&amp;#123;console.warn(&amp;quot;将根据已有的meta标签来设置缩放比例&amp;quot;);var l=g.getAttribute(&amp;quot;content&amp;quot;).match(/initial\-scale=([\d\.]+)/);l&amp;amp;&amp;amp;(j=parseFloat(l[1]),i=parseInt(1/j))&amp;#125;else if(h)&amp;#123;var m=h.getAttribute(&amp;quot;content&amp;quot;);if(m)&amp;#123;var n=m.match(/initial\-dpr=([\d\.]+)/),o=m.match(/maximum\-dpr=([\d\.]+)/);n&amp;amp;&amp;amp;(i=parseFloat(n[1]),j=parseFloat((1/i).toFixed(2))),o&amp;amp;&amp;amp;(i=parseFloat(o[1]),j=parseFloat((1/i).toFixed(2)))&amp;#125;&amp;#125;if(!i&amp;amp;&amp;amp;!j)&amp;#123;var p=a.navigator.userAgent,q=(!!p.match(/android/gi),!!p.match(/iphone/gi)),r=q&amp;amp;&amp;amp;!!p.match(/OS 9_3/),s=a.devicePixelRatio;i=q&amp;amp;&amp;amp;!r?s&amp;gt;=3&amp;amp;&amp;amp;(!i||i&amp;gt;=3)?3:s&amp;gt;=2&amp;amp;&amp;amp;(!i||i&amp;gt;=2)?2:1:1,j=1/i&amp;#125;if(f.setAttribute(&amp;quot;data-dpr&amp;quot;,i),!g)if(g=e.createElement(&amp;quot;meta&amp;quot;),g.setAttribute(&amp;quot;name&amp;quot;,&amp;quot;viewport&amp;quot;),g.setAttribute(&amp;quot;content&amp;quot;,&amp;quot;initial-scale=&amp;quot;+j+&amp;quot;, maximum-scale=&amp;quot;+j+&amp;quot;, minimum-scale=&amp;quot;+j+&amp;quot;, user-scalable=no&amp;quot;),f.firstElementChild)f.firstElementChild.appendChild(g);else&amp;#123;var t=e.createElement(&amp;quot;div&amp;quot;);t.appendChild(g),e.write(t.innerHTML)&amp;#125;a.addEventListener(&amp;quot;resize&amp;quot;,function()&amp;#123;clearTimeout(d),d=setTimeout(c,300)&amp;#125;,!1),a.addEventListener(&amp;quot;pageshow&amp;quot;,function(a)&amp;#123;a.persisted&amp;amp;&amp;amp;(clearTimeout(d),d=setTimeout(c,300))&amp;#125;,!1),&amp;quot;complete&amp;quot;===e.readyState?e.body.style.fontSize=12*i+&amp;quot;px&amp;quot;:e.addEventListener(&amp;quot;DOMContentLoaded&amp;quot;,function()&amp;#123;e.body.style.fontSize=12*i+&amp;quot;px&amp;quot;&amp;#125;,!1),c(),k.dpr=a.dpr=i,k.refreshRem=c,k.rem2px=function(a)&amp;#123;var b=parseFloat(a)*this.rem;return&amp;quot;string&amp;quot;==typeof a&amp;amp;&amp;amp;a.match(/rem$/)&amp;amp;&amp;amp;(b+=&amp;quot;px&amp;quot;),b&amp;#125;,k.px2rem=function(a)&amp;#123;var b=parseFloat(a)/this.rem;return&amp;quot;string&amp;quot;==typeof a&amp;amp;&amp;amp;a.match(/px$/)&amp;amp;&amp;amp;(b+=&amp;quot;rem&amp;quot;),b&amp;#125;&amp;#125;(window,window.lib||(window.lib=&amp;#123;&amp;#125;));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;三&quot;&gt;&lt;a href=&quot;#三&quot; class=&quot;headerlink&quot; title=&quot;三&quot;&gt;&lt;/a&gt;三&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;var t = Math.min(640, window.innerWidth, document.documentElement.clientWidth);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;document.documentElement.style.fontSize = t / 7.5 + &amp;quot;px&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;一-需指定meta&quot;&gt;&lt;a href=&quot;#一-需指定meta&quot; class=&quot;headerlink&quot; title=&quot;一 需指定meta&quot;&gt;&lt;/a&gt;一 需指定meta&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;(设计图元素尺寸/100)rem;&lt;br&gt;&lt;figure 
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>css snippet</title>
    <link href="http://popfly.club/posts/20160526/cssSnippet1.html"/>
    <id>http://popfly.club/posts/20160526/cssSnippet1.html</id>
    <published>2016-05-26T03:01:40.000Z</published>
    <updated>2017-01-05T12:23:42.406Z</updated>
    
    <content type="html">&lt;h3 id=&quot;伪元素实现行级元素换行&quot;&gt;&lt;a href=&quot;#伪元素实现行级元素换行&quot; class=&quot;headerlink&quot; title=&quot;伪元素实现行级元素换行&quot;&gt;&lt;/a&gt;伪元素实现行级元素换行&lt;/h3&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.inline-element&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;::after&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;\A&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;white-space&lt;/span&gt;: pre;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;span class=&quot;selector-tag&quot;&gt;Unicode&lt;/span&gt; 字符是专门代表换行符的：0&lt;span class=&quot;selector-tag&quot;&gt;x000A&lt;/span&gt; 。 在 &lt;span class=&quot;selector-tag&quot;&gt;CSS&lt;/span&gt; 中，这个字符可以写作 &quot;\000&lt;span class=&quot;selector-tag&quot;&gt;A&lt;/span&gt;&quot;， 或简化为 &quot;\&lt;span class=&quot;selector-tag&quot;&gt;A&lt;/span&gt;&quot;。这里我们用它来作为 &lt;span class=&quot;selector-pseudo&quot;&gt;::after&lt;/span&gt; 伪元素的内容。也就是在元素末尾添加了一个换行符的意思。&lt;span class=&quot;selector-tag&quot;&gt;white-space&lt;/span&gt;: &lt;span class=&quot;selector-tag&quot;&gt;pre&lt;/span&gt;; 的作用是保留元素后面的空白符和换行符&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ios-iframe滚动问题&quot;&gt;&lt;a href=&quot;#ios-iframe滚动问题&quot; class=&quot;headerlink&quot; title=&quot;ios iframe滚动问题&quot;&gt;&lt;/a&gt;ios iframe滚动问题&lt;/h3&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;div class=&quot;wrap&quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;lt;iframe scrolling=&quot;yes&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/div&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;.wrap&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	-webkit-overflow-scrolling: touch;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;伪元素实现行级元素换行&quot;&gt;&lt;a href=&quot;#伪元素实现行级元素换行&quot; class=&quot;headerlink&quot; title=&quot;伪元素实现行级元素换行&quot;&gt;&lt;/a&gt;伪元素实现行级元素换行&lt;/h3&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>js snippet(7)</title>
    <link href="http://popfly.club/posts/20160525/snippet7.html"/>
    <id>http://popfly.club/posts/20160525/snippet7.html</id>
    <published>2016-05-25T07:05:05.000Z</published>
    <updated>2017-01-05T12:24:34.582Z</updated>
    
    <content type="html">&lt;h3 id=&quot;中文转拼音&quot;&gt;&lt;a href=&quot;#中文转拼音&quot; class=&quot;headerlink&quot; title=&quot;中文转拼音&quot;&gt;&lt;/a&gt;中文转拼音&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;/**/~(function(){/**/
//二分法汉字转拼音
var key = &amp;quot;吖哎安肮凹八挀扳邦勹陂奔伻皀边灬憋汃冫癶峬嚓偲参仓撡冊嵾噌叉犲辿伥抄车抻阷吃充抽出膗巛刅吹旾踔呲从凑粗汆镩蹿崔邨搓咑呆丹当刀恴揼灯仾嗲敁刁爹丁丟东吺剢耑叾吨多妸奀鞥仒发帆匚飞分丰覅仏垺夫旮侅干冈皋戈给根更工勾估瓜乖关光归丨呙妎咍兯夯茠诃黒拫亨乊叿齁乎花怀欢巟灰昏吙丌加戋江艽阶巾坕冂丩凥姢噘军咔开刊忼尻匼肎劥空廤扝夸蒯宽匡亏坤扩垃来兰啷捞仂雷塄唎俩嫾簗蹽咧厸伶溜咯龙娄噜驴孪掠抡捋嘸妈埋颟牤猫庅呅椚掹踎宀喵乜民名谬摸哞某母拏腉囡囔孬疒娞嫩莻妮拈娘鸟捏脌宁妞农羺奴女疟奻硸噢妑拍眅乓抛呸喷匉丕片剽氕姘乒钋剖仆七掐千呛悄切亲靑宆丘区峑炔夋亽呥穣荛惹人扔日戎厹嶿堧桵闰挼仨毢三桒掻色杀筛山伤弰奢申升尸収书刷衰闩双谁妁厶忪凁苏狻夊孙唆他囼坍汤仐忑膯剔天旫怗厅囲偷凸湍推吞乇屲歪乛尣危塭翁挝乌夕呷仙乡灱些忄兴凶休戌吅疶坃丫咽央幺倻膶一乚应哟佣优扜囦曰蒀帀災兂牂傮啫贼怎曽吒夈沾张佋蜇贞凧之中州朱抓拽专妆隹宒卓仔孖宗邹租劗厜尊昨&amp;quot;.split(&amp;quot;&amp;quot;);
var pinyin = &amp;quot;AAiAnAngAoBaBaiBanBangBaoBeiBenBengBiBianBiaoBieBinBingBoBuCaCaiCanCangCaoCeCenCengChaChaiChanChangChaoCheChenChengChiChongChouChuChuaiChuanChuangChuiChunChuoCiCongCouCuCuanChuanCuanCuiCunCuoDaDaiDanDangDaoDeDenDengDiDiaDianDiaoDieDingDiuDongDouDuDuanDuiDunDuoEEnEngErFaFanFangFeiFenFengFiaoFoFouFuGaGaiGanGangGaoGeGeiGenGengGongGouGuGuaGuaiGuanGuangGuiGunGuoHaHaiHanHangHaoHeHeiHenHengHoHongHouHuHuaHuaiHuanHuangHuiHunHuoJiJiaJianJiangJiaoJieJinJingJiongJiuJuJuanJueJunKaKaiKanKangKaoKeKenKengKongKouKuKuaKuaiKuanKuangKuiKunKuoLaLaiLanLangLaoLeLeiLengLiLiaLianLiangLiaoLieLinLingLiuLoLongLouLuLvLuanLveLunLuoMMaMaiManMangMaoMeMeiMenMengMiMianMiaoMieMinMingMiuMoMouMeiMuNaNaiNanNangNaoNeNeiNenNNiNianNiangNiaoNieNinNingNiuNongNouNuNvNveNuanNuoOuPaPaiPanPangPaoPeiPenPengPiPianPiaoPiePinPingPoPouPuQiQiaQianQiangQiaoQieQinQingQiongQiuQuQuanQueQunRaRanRangRaoReRenRengRiRongRouRuRuanRuiRunRuoSaSaiSanSangSaoSeShaShaiShanShangShaoSheShenShengShiShouShuShuaShuaiShuanShuangShuiShuoSiSongSouSuSuanSuiSunSuoTaTaiTanTangTaoTeTengTiTianTiaoTieTingTongTouTuTuanTuiTunTuoWaWaiWanWangWeiWenWengWoWuXiXiaXianXiangXiaoXieXinXingXiongXiuXuXuanXueXunYaYanYangYaoYeYenYiYinYingYoYongYouYuYuanYueYunZaZaiZanZangZaoZeZeiZenZengZhaZhaiZhanZhangZhaoZheZhenZhengZhiZhongZhouZhuZhuaZhuaiZhuanZhuangZhuiZhunZhuoZaiZiZongZouZuZuanZuiZunZuo&amp;quot;.split(/(?=[A-Z])/g);
var cache = {};
var keyLen=key.length-1;
&lt;/code&gt;&lt;/pre&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;pre&gt;&lt;code&gt;return function pinyinFn(w){

  if(w.length&amp;gt;1){
    var ret=&amp;apos;&amp;apos;;
    for(var i=0;i&amp;lt;w.length;i++){
      ret+=pinyinFn(w.charAt(i))
    }
    return ret;
  }

  if(!/[\u4e00-\u9fa5]/.test(w)){
    return w;
  }

  if(cache[w]){
    return cache[w];
  }

  var begin=0;

  var end=keyLen;

  while(begin&amp;lt;=end){
   var middle = Math.floor((begin+end)/2);
   if(w.localeCompare(key[middle])&amp;lt;0){
     end=middle-1;
   } else {
     begin=middle+1;
   }
  }

  return cache[w] = pinyin[end];

};
/**/}());/**/
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;按字节截取字符串&quot;&gt;&lt;a href=&quot;#按字节截取字符串&quot; class=&quot;headerlink&quot; title=&quot;按字节截取字符串&quot;&gt;&lt;/a&gt;按字节截取字符串&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;function subSt(str, len)&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  var newLength = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  var newStr = &amp;quot;&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  var chineseRegex = /[^\x00-\xff]/g;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  var singleChar = &amp;quot;&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  var strLength = str.replace(chineseRegex,&amp;quot;**&amp;quot;).length;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  for(var i = 0;i &amp;lt; strLength;i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      singleChar = str.charAt(i).toString();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      if(singleChar.match(chineseRegex) != null) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          newLength += 2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;#125; else  &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          newLength++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      if(newLength &amp;gt; len) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      newStr += singleChar;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return newStr;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;e.g.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;subSt(‘我是中国人’, 4); //我是&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;charCodeAt加解密&quot;&gt;&lt;a href=&quot;#charCodeAt加解密&quot; class=&quot;headerlink&quot; title=&quot;charCodeAt加解密&quot;&gt;&lt;/a&gt;charCodeAt加解密&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;function unicode(s)&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   var len=s.length; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   var rs=&amp;quot;&amp;quot;; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   for(var i=0;i&amp;lt;len;i++)&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          var k=s.substring(i,i+1); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          rs+= (i==0?&amp;quot;&amp;quot;:&amp;quot;,&amp;quot;)+s.charCodeAt(i); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   return rs; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// unicode decode&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;function runicode(s)&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   var k=s.split(&amp;quot;,&amp;quot;); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   var rs=&amp;quot;&amp;quot;; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   for(i=0;i&amp;lt;k.length;i++)&amp;#123; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      rs+=String.fromCharCode(k[i]); &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &amp;#125; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   return rs; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;base64加解密&quot;&gt;&lt;a href=&quot;#base64加解密&quot; class=&quot;headerlink&quot; title=&quot;base64加解密&quot;&gt;&lt;/a&gt;base64加解密&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;84&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;var base64DecodeChars = new Array(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     -1,   0,   1,   2,   3,   4,   5,   6,   7,   8,   9, 10, 11, 12, 13, 14,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;function base64encode(str) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     var out, i, len;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     var c1, c2, c3;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     len = str.length;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     i = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     out = &amp;quot;&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     while(i &amp;lt; len) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         c1 = str.charCodeAt(i++) &amp;amp; 0xff;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         if(i == len)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             out += base64EncodeChars.charAt(c1 &amp;gt;&amp;gt; 2);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             out += base64EncodeChars.charAt((c1 &amp;amp; 0x3) &amp;lt;&amp;lt; 4);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             out += &amp;quot;==&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         c2 = str.charCodeAt(i++);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         if(i == len)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             out += base64EncodeChars.charAt(c1 &amp;gt;&amp;gt; 2);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             out += base64EncodeChars.charAt(((c1 &amp;amp; 0x3)&amp;lt;&amp;lt; 4) | ((c2 &amp;amp; 0xF0) &amp;gt;&amp;gt; 4));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             out += base64EncodeChars.charAt((c2 &amp;amp; 0xF) &amp;lt;&amp;lt; 2);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             out += &amp;quot;=&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         c3 = str.charCodeAt(i++);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         out += base64EncodeChars.charAt(c1 &amp;gt;&amp;gt; 2);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         out += base64EncodeChars.charAt(((c1 &amp;amp; 0x3)&amp;lt;&amp;lt; 4) | ((c2 &amp;amp; 0xF0) &amp;gt;&amp;gt; 4));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         out += base64EncodeChars.charAt(((c2 &amp;amp; 0xF) &amp;lt;&amp;lt; 2) | ((c3 &amp;amp; 0xC0) &amp;gt;&amp;gt;6));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         out += base64EncodeChars.charAt(c3 &amp;amp; 0x3F);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     return out;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;function base64decode(str) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     var c1, c2, c3, c4;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     var i, len, out;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     len = str.length;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     i = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     out = &amp;quot;&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     while(i &amp;lt; len) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         /* c1 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         do &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             c1 = base64DecodeChars[str.charCodeAt(i++) &amp;amp; 0xff];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#125; while(i &amp;lt; len &amp;amp;&amp;amp; c1 == -1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         if(c1 == -1)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         /* c2 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         do &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             c2 = base64DecodeChars[str.charCodeAt(i++) &amp;amp; 0xff];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#125; while(i &amp;lt; len &amp;amp;&amp;amp; c2 == -1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         if(c2 == -1)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         out += String.fromCharCode((c1 &amp;lt;&amp;lt; 2) | ((c2 &amp;amp; 0x30) &amp;gt;&amp;gt; 4));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         /* c3 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         do &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             c3 = str.charCodeAt(i++) &amp;amp; 0xff;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             if(c3 == 61)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                 return out;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             c3 = base64DecodeChars[c3];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#125; while(i &amp;lt; len &amp;amp;&amp;amp; c3 == -1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         if(c3 == -1)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         out += String.fromCharCode(((c2 &amp;amp; 0XF) &amp;lt;&amp;lt; 4) | ((c3 &amp;amp; 0x3C) &amp;gt;&amp;gt; 2));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         /* c4 */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         do &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             c4 = str.charCodeAt(i++) &amp;amp; 0xff;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             if(c4 == 61)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                 return out;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             c4 = base64DecodeChars[c4];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;#125; while(i &amp;lt; len &amp;amp;&amp;amp; c4 == -1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         if(c4 == -1)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         out += String.fromCharCode(((c3 &amp;amp; 0x03) &amp;lt;&amp;lt; 6) | c4);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     return out;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;中文转拼音&quot;&gt;&lt;a href=&quot;#中文转拼音&quot; class=&quot;headerlink&quot; title=&quot;中文转拼音&quot;&gt;&lt;/a&gt;中文转拼音&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;/**/~(function(){/**/
//二分法汉字转拼音
var key = &amp;quot;吖哎安肮凹八挀扳邦勹陂奔伻皀边灬憋汃冫癶峬嚓偲参仓撡冊嵾噌叉犲辿伥抄车抻阷吃充抽出膗巛刅吹旾踔呲从凑粗汆镩蹿崔邨搓咑呆丹当刀恴揼灯仾嗲敁刁爹丁丟东吺剢耑叾吨多妸奀鞥仒发帆匚飞分丰覅仏垺夫旮侅干冈皋戈给根更工勾估瓜乖关光归丨呙妎咍兯夯茠诃黒拫亨乊叿齁乎花怀欢巟灰昏吙丌加戋江艽阶巾坕冂丩凥姢噘军咔开刊忼尻匼肎劥空廤扝夸蒯宽匡亏坤扩垃来兰啷捞仂雷塄唎俩嫾簗蹽咧厸伶溜咯龙娄噜驴孪掠抡捋嘸妈埋颟牤猫庅呅椚掹踎宀喵乜民名谬摸哞某母拏腉囡囔孬疒娞嫩莻妮拈娘鸟捏脌宁妞农羺奴女疟奻硸噢妑拍眅乓抛呸喷匉丕片剽氕姘乒钋剖仆七掐千呛悄切亲靑宆丘区峑炔夋亽呥穣荛惹人扔日戎厹嶿堧桵闰挼仨毢三桒掻色杀筛山伤弰奢申升尸収书刷衰闩双谁妁厶忪凁苏狻夊孙唆他囼坍汤仐忑膯剔天旫怗厅囲偷凸湍推吞乇屲歪乛尣危塭翁挝乌夕呷仙乡灱些忄兴凶休戌吅疶坃丫咽央幺倻膶一乚应哟佣优扜囦曰蒀帀災兂牂傮啫贼怎曽吒夈沾张佋蜇贞凧之中州朱抓拽专妆隹宒卓仔孖宗邹租劗厜尊昨&amp;quot;.split(&amp;quot;&amp;quot;);
var pinyin = &amp;quot;AAiAnAngAoBaBaiBanBangBaoBeiBenBengBiBianBiaoBieBinBingBoBuCaCaiCanCangCaoCeCenCengChaChaiChanChangChaoCheChenChengChiChongChouChuChuaiChuanChuangChuiChunChuoCiCongCouCuCuanChuanCuanCuiCunCuoDaDaiDanDangDaoDeDenDengDiDiaDianDiaoDieDingDiuDongDouDuDuanDuiDunDuoEEnEngErFaFanFangFeiFenFengFiaoFoFouFuGaGaiGanGangGaoGeGeiGenGengGongGouGuGuaGuaiGuanGuangGuiGunGuoHaHaiHanHangHaoHeHeiHenHengHoHongHouHuHuaHuaiHuanHuangHuiHunHuoJiJiaJianJiangJiaoJieJinJingJiongJiuJuJuanJueJunKaKaiKanKangKaoKeKenKengKongKouKuKuaKuaiKuanKuangKuiKunKuoLaLaiLanLangLaoLeLeiLengLiLiaLianLiangLiaoLieLinLingLiuLoLongLouLuLvLuanLveLunLuoMMaMaiManMangMaoMeMeiMenMengMiMianMiaoMieMinMingMiuMoMouMeiMuNaNaiNanNangNaoNeNeiNenNNiNianNiangNiaoNieNinNingNiuNongNouNuNvNveNuanNuoOuPaPaiPanPangPaoPeiPenPengPiPianPiaoPiePinPingPoPouPuQiQiaQianQiangQiaoQieQinQingQiongQiuQuQuanQueQunRaRanRangRaoReRenRengRiRongRouRuRuanRuiRunRuoSaSaiSanSangSaoSeShaShaiShanShangShaoSheShenShengShiShouShuShuaShuaiShuanShuangShuiShuoSiSongSouSuSuanSuiSunSuoTaTaiTanTangTaoTeTengTiTianTiaoTieTingTongTouTuTuanTuiTunTuoWaWaiWanWangWeiWenWengWoWuXiXiaXianXiangXiaoXieXinXingXiongXiuXuXuanXueXunYaYanYangYaoYeYenYiYinYingYoYongYouYuYuanYueYunZaZaiZanZangZaoZeZeiZenZengZhaZhaiZhanZhangZhaoZheZhenZhengZhiZhongZhouZhuZhuaZhuaiZhuanZhuangZhuiZhunZhuoZaiZiZongZouZuZuanZuiZunZuo&amp;quot;.split(/(?=[A-Z])/g);
var cache = {};
var keyLen=key.length-1;
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>js snippet(6)</title>
    <link href="http://popfly.club/posts/20160525/snippet6.html"/>
    <id>http://popfly.club/posts/20160525/snippet6.html</id>
    <published>2016-05-25T06:29:02.000Z</published>
    <updated>2017-06-13T02:34:49.249Z</updated>
    
    <content type="html">&lt;h3 id=&quot;异步js加载器&quot;&gt;&lt;a href=&quot;#异步js加载器&quot; class=&quot;headerlink&quot; title=&quot;异步js加载器&quot;&gt;&lt;/a&gt;异步js加载器&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;var Loader = function () &amp;#123; &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Loader.prototype = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    require: function (scripts, callback) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.loadCount      = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.totalRequired  = scripts.length;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.callback       = callback;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (var i = 0; i &amp;lt; scripts.length; i++) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            this.writeScript(scripts[i]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    loaded: function (evt) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.loadCount++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (this.loadCount == this.totalRequired &amp;amp;&amp;amp; typeof this.callback == &amp;apos;function&amp;apos;) this.callback.call();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    writeScript: function (src) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        var self = this;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        var s = document.createElement(&amp;apos;script&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        s.type = &amp;quot;text/javascript&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        s.async = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        s.src = src;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        s.addEventListener(&amp;apos;load&amp;apos;, function (e) &amp;#123; self.loaded(e); &amp;#125;, false);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        var head = document.getElementsByTagName(&amp;apos;head&amp;apos;)[0];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        head.appendChild(s);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;e.g.--------&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var l = new Loader();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;l.require([&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;example-script-1.js&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;example-script-2.js&amp;quot;],&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    function() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Callback&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        console.log(&amp;apos;All Scripts Loaded&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;异步js加载器&quot;&gt;&lt;a href=&quot;#异步js加载器&quot; class=&quot;headerlink&quot; title=&quot;异步js加载器&quot;&gt;&lt;/a&gt;异步js加载器&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>js snippet(5)</title>
    <link href="http://popfly.club/posts/20160429/snippet4.html"/>
    <id>http://popfly.club/posts/20160429/snippet4.html</id>
    <published>2016-04-29T02:19:41.000Z</published>
    <updated>2017-01-05T12:24:24.783Z</updated>
    
    <content type="html">&lt;h3 id=&quot;数组去重&quot;&gt;&lt;a href=&quot;#数组去重&quot; class=&quot;headerlink&quot; title=&quot;数组去重&quot;&gt;&lt;/a&gt;数组去重&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;function outRepeat(a){
        var hash=[],arr=[];
        for (var i = 0; i &amp;lt; a.length; i++) {
            hash[a[i]]!=null;
            if(!hash[a[i]]){
                arr.push(a[i]);
                hash[a[i]]=true;
            }
        }
        console.log(arr);
    }
    outRepeat([2,4,4,5,&amp;quot;a&amp;quot;,&amp;quot;a&amp;quot;]);//[2, 4, 5, &amp;quot;a&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;pre&gt;&lt;code&gt;function outRepeat(a){
            var hash=[],arr=[];
            for (var i = 0,elem;(elem=a[i])!=null; i++) {
                if(!hash[elem]){
                    arr.push(elem);
                    hash[elem]=true;
                }
            }
            console.log(arr);
        }
        outRepeat([2,4,4,5,&amp;quot;a&amp;quot;,&amp;quot;a&amp;quot;]);//[2, 4, 5, &amp;quot;a&amp;quot;]

function outRepeat(a){
            var hash=[],arr=[];
            for (var i = 0; i &amp;lt; a.length; i++) {
                hash[a[i]]=null;
            }
            for(var key in hash){
                   arr.push(key);                
                }
            console.log(arr);
        }
        outRepeat([2,4,4,5,&amp;quot;a&amp;quot;,&amp;quot;a&amp;quot;]);//[&amp;quot;2&amp;quot;, &amp;quot;4&amp;quot;, &amp;quot;5&amp;quot;, &amp;quot;a&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;检查元素是否位于当前视窗-可用于lazyload-infinite-scroll等常见功能&quot;&gt;&lt;a href=&quot;#检查元素是否位于当前视窗-可用于lazyload-infinite-scroll等常见功能&quot; class=&quot;headerlink&quot; title=&quot;检查元素是否位于当前视窗(可用于lazyload, infinite scroll等常见功能)&quot;&gt;&lt;/a&gt;检查元素是否位于当前视窗(可用于lazyload, infinite scroll等常见功能)&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;function isInViewport(el) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    var rect = el.getBoundingClientRect();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return rect.bottom &amp;gt; 0 &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        rect.right &amp;gt; 0 &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        rect.left &amp;lt; (window.innerWidth || document. documentElement.clientWidth) &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        rect.top &amp;lt; (window.innerHeight || document. documentElement.clientHeight);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;e.g.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;window.addEventListener(&amp;apos;scroll&amp;apos;, function() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    isInViewport(el);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;html5-标签在-IE-下使用&quot;&gt;&lt;a href=&quot;#html5-标签在-IE-下使用&quot; class=&quot;headerlink&quot; title=&quot;html5 标签在 IE 下使用&quot;&gt;&lt;/a&gt;html5 标签在 IE 下使用&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;(function()&amp;#123;if(!/*@cc_on!@*/0)return;var e = &amp;quot;abbr,article,aside,audio,bb,canvas,datagrid,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video&amp;quot;.split(&amp;apos;,&amp;apos;),i=e.length;while(i--)&amp;#123;document.createElement(e[i])&amp;#125;&amp;#125;)()&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;浅化-深化颜色&quot;&gt;&lt;a href=&quot;#浅化-深化颜色&quot; class=&quot;headerlink&quot; title=&quot;浅化/深化颜色&quot;&gt;&lt;/a&gt;浅化/深化颜色&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;function LightenDarkenColor(col, amt) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    var usePound = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (col[0] == &amp;quot;#&amp;quot;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        col = col.slice(1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        usePound = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    var num = parseInt(col,16);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    var r = (num &amp;gt;&amp;gt; 16) + amt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (r &amp;gt; 255) r = 255;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    else if  (r &amp;lt; 0) r = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    var b = ((num &amp;gt;&amp;gt; 8) &amp;amp; 0x00FF) + amt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (b &amp;gt; 255) b = 255;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    else if  (b &amp;lt; 0) b = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    var g = (num &amp;amp; 0x0000FF) + amt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (g &amp;gt; 255) g = 255;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    else if (g &amp;lt; 0) g = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return (usePound?&amp;quot;#&amp;quot;:&amp;quot;&amp;quot;) + (g | (b &amp;lt;&amp;lt; 8) | (r &amp;lt;&amp;lt; 16)).toString(16);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;e.g.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// Lighten&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var NewColor = LightenDarkenColor(&amp;quot;#F06D06&amp;quot;, 20);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// Darken&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;var NewColor = LightenDarkenColor(&amp;quot;#F06D06&amp;quot;, -20);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;让-IE-背景图不闪烁&quot;&gt;&lt;a href=&quot;#让-IE-背景图不闪烁&quot; class=&quot;headerlink&quot; title=&quot;让 IE 背景图不闪烁&quot;&gt;&lt;/a&gt;让 IE 背景图不闪烁&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;try &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; document.execCommand(&amp;quot;BackgroundImageCache&amp;quot;, false, true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125; catch(err) &amp;#123;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;数组去重&quot;&gt;&lt;a href=&quot;#数组去重&quot; class=&quot;headerlink&quot; title=&quot;数组去重&quot;&gt;&lt;/a&gt;数组去重&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;function outRepeat(a){
        var hash=[],arr=[];
        for (var i = 0; i &amp;lt; a.length; i++) {
            hash[a[i]]!=null;
            if(!hash[a[i]]){
                arr.push(a[i]);
                hash[a[i]]=true;
            }
        }
        console.log(arr);
    }
    outRepeat([2,4,4,5,&amp;quot;a&amp;quot;,&amp;quot;a&amp;quot;]);//[2, 4, 5, &amp;quot;a&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>时间</title>
    <link href="http://popfly.club/posts/20160411/date.html"/>
    <id>http://popfly.club/posts/20160411/date.html</id>
    <published>2016-04-11T10:03:36.000Z</published>
    <updated>2017-01-05T12:23:35.727Z</updated>
    
    <content type="html">&lt;h2 id=&quot;判断闰年&quot;&gt;&lt;a href=&quot;#判断闰年&quot; class=&quot;headerlink&quot; title=&quot;判断闰年&quot;&gt;&lt;/a&gt;判断闰年&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;/*&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 判断闰年&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param  &amp;#123;Number&amp;#125; 年&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @return &amp;#123;Blooean&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;function isLeapYear(year) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return (year % 4 == 0 &amp;amp;&amp;amp; year % 100 != 0) || (year % 400 == 0)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;isLeapYear(2015) // false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;isLeapYear(2016) // true&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;补齐月，日数字位数&quot;&gt;&lt;a href=&quot;#补齐月，日数字位数&quot; class=&quot;headerlink&quot; title=&quot;补齐月，日数字位数&quot;&gt;&lt;/a&gt;补齐月，日数字位数&lt;/h2&gt;&lt;p&gt;通过Date对下的getMonth，getDate返回的数字如果是10以下的需要在前面补齐一个0。这里需要注意的是getMonth返回的月份是从0开始的，即0代表1月份，1代表2月份，依次类推。&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 补齐月，日数字位数&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;number|string&amp;#125; n 需要补齐的数字&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @return &amp;#123;string&amp;#125; 补齐两位后的字符&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getTwoBit&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;n&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (n &amp;gt; &lt;span class=&quot;number&quot;&gt;9&lt;/span&gt; ? &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt;) + n&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;getTwoBit(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)  &lt;span class=&quot;comment&quot;&gt;// &#39;03&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;getTwoBit(&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;)  &lt;span class=&quot;comment&quot;&gt;// &#39;09&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;getTwoBit(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// &#39;10&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;getTwoBit(&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// &#39;11&#39;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Date对象转成日期格式字符串&quot;&gt;&lt;a href=&quot;#Date对象转成日期格式字符串&quot; class=&quot;headerlink&quot; title=&quot;Date对象转成日期格式字符串&quot;&gt;&lt;/a&gt;Date对象转成日期格式字符串&lt;/h2&gt;&lt;p&gt;有两种格式”2015-01-22” 和 “2015/01/23”&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 日期对象转成字符串&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param  &amp;#123;Date&amp;#125; new Date()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @split  &amp;#123;String&amp;#125; &quot;-&quot; 或 &quot;/&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @return &amp;#123;String&amp;#125; &quot;2014-12-31&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;date2Str&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;date, split&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    split = split || &lt;span class=&quot;string&quot;&gt;&#39;-&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; y = date.getFullYear()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; m = getTwoBit(date.getMonth() + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; d = getTwoBit(date.getDate())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [y, m, d].join(split)   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;日期格式字符串转成Date对象&quot;&gt;&lt;a href=&quot;#日期格式字符串转成Date对象&quot; class=&quot;headerlink&quot; title=&quot;日期格式字符串转成Date对象&quot;&gt;&lt;/a&gt;日期格式字符串转成Date对象&lt;/h2&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 日期字符串转成Date对象&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;String&amp;#125; str&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *   &quot;2014-12-31&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *   &quot;2014/12/31&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @return &amp;#123;Date&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;str2Date&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;str&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; reDate = &lt;span class=&quot;regexp&quot;&gt;/^\d&amp;#123;4&amp;#125;\-\d&amp;#123;1,2&amp;#125;\-\d&amp;#123;1,2&amp;#125;/&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (reDate.test(str)) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        str = str.replace(&lt;span class=&quot;regexp&quot;&gt;/-/g&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;(str)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;根据数字返回特定的天&quot;&gt;&lt;a href=&quot;#根据数字返回特定的天&quot; class=&quot;headerlink&quot; title=&quot;根据数字返回特定的天&quot;&gt;&lt;/a&gt;根据数字返回特定的天&lt;/h2&gt;&lt;p&gt;这个函数根据数字返回特定的日期字符串&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 返回日期格式字符串&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param &amp;#123;Number&amp;#125; 0返回今天的日期、1返回明天的日期，2返回后天得日期，依次类推&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @return &amp;#123;string&amp;#125; &#39;2014-12-31&#39;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getSpecDay&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;i&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    i = i || &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; date = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; diff = i * (&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt; * &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt; * &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt; * &lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    date = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;(date.getTime() + diff)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; date2Str(date)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;getSpecDay(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// 2014-12-31&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;getSpecDay(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// 2015-01-01&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;根据Date对象获取星期&quot;&gt;&lt;a href=&quot;#根据Date对象获取星期&quot; class=&quot;headerlink&quot; title=&quot;根据Date对象获取星期&quot;&gt;&lt;/a&gt;根据Date对象获取星期&lt;/h2&gt;&lt;p&gt;有的需求要显示的是 “周三”，有的则是 “星期三”&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 根据Date对象获取周几&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param date &amp;#123;Date|String&amp;#125; 如 &#39;2014-12-22&#39;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param isFormal &amp;#123;Boolean&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @return &#39;周一&#39; 或 &#39;星期一&#39;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getWeekByDate&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;date, isFormal&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; obj = &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; weekArr1 = [&lt;span class=&quot;string&quot;&gt;&#39;周日&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;周一&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;周二&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;周三&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;周四&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;周五&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;周六&#39;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; weekArr2 = [&lt;span class=&quot;string&quot;&gt;&#39;星期日&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;星期一&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;星期二&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;星期三&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;星期四&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;星期五&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;星期六&#39;&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; date == &lt;span class=&quot;string&quot;&gt;&#39;string&#39;&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        obj = str2Date(date)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (date &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        obj = date&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; num = obj.getDay()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; isFormal ? weekArr2[num] : weekArr1[num]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;根据年获取生肖&quot;&gt;&lt;a href=&quot;#根据年获取生肖&quot; class=&quot;headerlink&quot; title=&quot;根据年获取生肖&quot;&gt;&lt;/a&gt;根据年获取生肖&lt;/h2&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 根据年获取生肖&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * **参数**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  year &amp;#123;number&amp;#125; 年&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * **示例**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  getAnimal(1980) // &quot;猴&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  getAnimal(1981) // &quot;鸡&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  getAnimal(2013) // &quot;蛇&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getAnimal&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;year&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; animals = [&lt;span class=&quot;string&quot;&gt;&#39;鼠&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;牛&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;虎&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;兔&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;龙&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;蛇&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;马&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;羊&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;猴&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;鸡&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;狗&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;猪&#39;&lt;/span&gt;];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; i = (year - &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;) % &lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; animals[i];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;根据年月返回该月的两个节气，一个公历月有两个节气&quot;&gt;&lt;a href=&quot;#根据年月返回该月的两个节气，一个公历月有两个节气&quot; class=&quot;headerlink&quot; title=&quot;根据年月返回该月的两个节气，一个公历月有两个节气&quot;&gt;&lt;/a&gt;根据年月返回该月的两个节气，一个公历月有两个节气&lt;/h2&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 根据年月返回该月的两个节气，一个公历月有两个节气&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * **节气算法**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  http://ershisijieqi.baike.com/article-284624.html&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  http://www.azg168.com/huangli/24sijieqi/28337.html&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  http://blog.csdn.net/orbit/article/details/7910220&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * **参数**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  year  &amp;#123;number&amp;#125; 年&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  month &amp;#123;number&amp;#125; 月&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * **返回**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  object&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * **示例**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  getSolarTerm(2016, 4); // &amp;#123;day1: 4, term1: &quot;清明&quot;, day2: 19, term2: &quot;谷雨&quot;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getSolarTerm&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;year, month&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; solarTerm = [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;小寒&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;大寒&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;立春&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;雨水&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;惊蛰&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;春分&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;清明&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;谷雨&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;立夏&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;小满&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;芒种&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;夏至&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;小暑&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;大暑&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;立秋&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;处暑&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;白露&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;秋分&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;寒露&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;霜降&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;立冬&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;小雪&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;大雪&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;冬至&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; termInfo = [&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;21208&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;42467&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;63836&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;85337&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;107014&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;number&quot;&gt;128867&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;150921&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;173149&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;195551&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;218072&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;number&quot;&gt;240693&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;263343&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;285989&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;308563&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;331033&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;number&quot;&gt;353350&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;375494&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;397447&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;419210&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;440795&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;number&quot;&gt;462224&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;483532&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;504758&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 返回某年的第n个节气为几日(从0小寒起算)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;computeTermDay&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;y, n&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; d = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;((&lt;span class=&quot;number&quot;&gt;31556925974.7&lt;/span&gt; * (y - &lt;span class=&quot;number&quot;&gt;1900&lt;/span&gt;) + termInfo[n] * &lt;span class=&quot;number&quot;&gt;60000&lt;/span&gt;) + &lt;span class=&quot;built_in&quot;&gt;Date&lt;/span&gt;.UTC(&lt;span class=&quot;number&quot;&gt;1900&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; d.getUTCDate();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// month 转为 [0-11] 范畴&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    month = month - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 计算节气&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; n1 = month * &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; n2 = month * &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// day1, day2 为当月的两个节气日&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; day1 = computeTermDay(year, n1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; day2 = computeTermDay(year, n2);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 当月的两个节气名称&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; term1 = solarTerm[n1];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; term2 = solarTerm[n2];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 返回结果&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;day1&lt;/span&gt;: day1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;term1&lt;/span&gt;: term1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;day2&lt;/span&gt;: day2,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;term2&lt;/span&gt;: term2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;获取Y年的清明节是哪一天&quot;&gt;&lt;a href=&quot;#获取Y年的清明节是哪一天&quot; class=&quot;headerlink&quot; title=&quot;获取Y年的清明节是哪一天&quot;&gt;&lt;/a&gt;获取Y年的清明节是哪一天&lt;/h2&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 获取Y年的清明节是哪一天&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * **参数**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  yare &amp;#123;number&amp;#125; 年&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * **示例**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  getQingMing(2015); // 0405&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; *  getQingMing(2016); // 0404&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getQingMing&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;year&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// [Y*D+C]-L&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Y=年数后2位，D=0.2422，L=闰年数，21世纪C=4.81，20世纪=5.59&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; d = &lt;span class=&quot;number&quot;&gt;0.2422&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; c = &lt;span class=&quot;number&quot;&gt;4.81&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; y = (year + &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;).substr(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; day = &lt;span class=&quot;built_in&quot;&gt;parseInt&lt;/span&gt;(y*d+c) - &lt;span class=&quot;built_in&quot;&gt;parseInt&lt;/span&gt;(y/&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; day;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;判断闰年&quot;&gt;&lt;a href=&quot;#判断闰年&quot; class=&quot;headerlink&quot; title=&quot;判断闰年&quot;&gt;&lt;/a&gt;判断闰年&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;/*&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * 判断闰年&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @param  &amp;#123;Number&amp;#125; 年&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * @return &amp;#123;Blooean&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;function isLeapYear(year) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return (year % 4 == 0 &amp;amp;&amp;amp; year % 100 != 0) || (year % 400 == 0)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;isLeapYear(2015) // false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;isLeapYear(2016) // true&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>分享代码</title>
    <link href="http://popfly.club/posts/20160411/shareJs.html"/>
    <id>http://popfly.club/posts/20160411/shareJs.html</id>
    <published>2016-04-11T08:38:38.000Z</published>
    <updated>2017-01-05T12:21:51.046Z</updated>
    
    <content type="html">&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;qzone:http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;amp;title=&amp;#123;&amp;#123;TITLE&amp;#125;&amp;#125;&amp;amp;desc=&amp;#123;&amp;#123;DESCRIPTION&amp;#125;&amp;#125;&amp;amp;summary=&amp;#123;&amp;#123;SUMMARY&amp;#125;&amp;#125;&amp;amp;site=&amp;#123;&amp;#123;SOURCE&amp;#125;&amp;#125;&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;qq:&amp;apos;http://connect.qq.com/widget/shareqq/index.html?url=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;amp;title=&amp;#123;&amp;#123;TITLE&amp;#125;&amp;#125;&amp;amp;source=&amp;#123;&amp;#123;SOURCE&amp;#125;&amp;#125;&amp;amp;desc=&amp;#123;&amp;#123;DESCRIPTION&amp;#125;&amp;#125;&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;tencent: &amp;apos;http://share.v.t.qq.com/index.php?c=share&amp;amp;a=index&amp;amp;title=&amp;#123;&amp;#123;TITLE&amp;#125;&amp;#125;&amp;amp;url=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;amp;pic=&amp;#123;&amp;#123;IMAGE&amp;#125;&amp;#125;&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;weibo: &amp;apos;http://service.weibo.com/share/share.php?url=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;amp;title=&amp;#123;&amp;#123;TITLE&amp;#125;&amp;#125;&amp;amp;pic=&amp;#123;&amp;#123;IMAGE&amp;#125;&amp;#125;&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;douban:&amp;apos;http://shuo.douban.com/!service/share?href=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;amp;name=&amp;#123;&amp;#123;TITLE&amp;#125;&amp;#125;&amp;amp;text=&amp;#123;&amp;#123;DESCRIPTION&amp;#125;&amp;#125;&amp;amp;image=&amp;#123;&amp;#123;IMAGE&amp;#125;&amp;#125;&amp;amp;starid=0&amp;amp;aid=0&amp;amp;style=11&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;diandian: &amp;apos;http://www.diandian.com/share?lo=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;amp;ti=&amp;#123;&amp;#123;TITLE&amp;#125;&amp;#125;&amp;amp;type=link&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;linkedin:&amp;apos;http://www.linkedin.com/shareArticle?mini=true&amp;amp;ro=true&amp;amp;title=&amp;#123;&amp;#123;TITLE&amp;#125;&amp;#125;&amp;amp;url=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;amp;summary=&amp;#123;&amp;#123;SUMMARY&amp;#125;&amp;#125;&amp;amp;source=&amp;#123;&amp;#123;SOURCE&amp;#125;&amp;#125;&amp;amp;armin=armin&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;facebook: &amp;apos;https://www.facebook.com/sharer/sharer.php?u=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;twitter: &amp;apos;https://twitter.com/intent/tweet?text=&amp;#123;&amp;#123;TITLE&amp;#125;&amp;#125;&amp;amp;url=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;amp;via=&amp;#123;&amp;#123;SITE_URL&amp;#125;&amp;#125;&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;google: &amp;apos;https://plus.google.com/share?url=&amp;#123;&amp;#123;URL&amp;#125;&amp;#125;&amp;apos;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/di
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>js snippet(4)</title>
    <link href="http://popfly.club/posts/20160408/snippet3.html"/>
    <id>http://popfly.club/posts/20160408/snippet3.html</id>
    <published>2016-04-08T02:27:12.000Z</published>
    <updated>2017-06-13T02:34:21.898Z</updated>
    
    <content type="html">&lt;h3 id=&quot;自定义滚动条&quot;&gt;&lt;a href=&quot;#自定义滚动条&quot; class=&quot;headerlink&quot; title=&quot;自定义滚动条&quot;&gt;&lt;/a&gt;自定义滚动条&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;/**
*
* 调用： f.rootTouchBind(t);
*    t:  传入调用此方法的id字符串
*/
&lt;/code&gt;&lt;/pre&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;pre&gt;&lt;code&gt;var f = {
    rootTouchObj : {
        startY: 0,
        scrollY: 0
    },
    scrollRootHeight: function(t){
        var that = $(&amp;apos;#&amp;apos;+t);
        var h = that.height();
        var c = that.parent().height();
        var p = h - c;
        return p ;
    },
    rootTouchBind: function(t) {
        var c = this;
        var d = $(&amp;apos;#&amp;apos;+t);
        var l = d.height();
        var p = d.parent().height();
        if( l &amp;lt; p) {
            return;
        };
        $(&amp;apos;#&amp;apos;+ t).on(&amp;apos;touchstart&amp;apos;, function(d) {
            c.rootTouchObj.startY = d.touches[0].clientY;
            c.rootTouchObj.scrollY = 0
        });
        $(&amp;apos;#&amp;apos;+ t).on(&amp;apos;touchmove&amp;apos;, function(g) {
            g.preventDefault();
            var h = g.touches;
            var f = g.touches[0].clientY;
            var i = f - c.rootTouchObj.startY;
            var d = 0;
            var e = c.getY(t);
            d = e + i;
            if(d &amp;gt; 150) {
                d = 150
            } else{
                if(d &amp;lt; (c.scrollRootHeight(t) * - 1 - 150)) {
                    d = (c.scrollRootHeight(t) * - 1 - 150)
                }
            }
            $(&amp;apos;#&amp;apos;+ t).css(&amp;apos;transform&amp;apos;, &amp;apos;translateY(&amp;apos;+ d + &amp;apos;px)&amp;apos;);
            $(&amp;apos;#&amp;apos;+ t).css(&amp;apos;-webkit-transform&amp;apos;, &amp;apos;translateY(&amp;apos;+ d + &amp;apos;px)&amp;apos;);
            c.rootTouchObj.scrollY = f - c.rootTouchObj.startY;
            c.rootTouchObj.startY = f
        });
        $(&amp;apos;#&amp;apos;+ t).on(&amp;apos;touchend&amp;apos;, function(d) {
            c.touchScroll(c.rootTouchObj.scrollY, t, c.scrollRootHeight(t))
        })
    },
    touchScroll: function(k, d, m, g) {
        var c = this;
        var e = Math.abs(k);
        var h = 0;
        var f = 200;
        var l = d;
        var j = 0;
        if(e &amp;gt;= 40) {
            h = 15
        } else{
            if(e &amp;lt; 40 &amp;amp;&amp;amp; e &amp;gt;= 25) {
                h = 10
            } else{
                if(e &amp;lt; 25 &amp;amp;&amp;amp; e &amp;gt;= 10) {
                    h = 5
                } else{
                    h = 0
                }
            }
        }
        if(h &amp;gt; 0) {
            if(k &amp;lt; 0) {
                h = h * - 1
            }
            setTimeout(function() {
                c.touchScrollRun(h, d, 0, m, g)
            }, 2)
        } else{
            var i = 0;
            i = c.getY(d);
            c.goToEnd(i, d, m)
        }
    },
    touchScrollRun: function(h, k, g, e, f) {
        var i = this;
        var j = g + 1;
        if(f) {
            i.imgLazyLad.lazyLad()
        }
        if(g &amp;lt; 50) {
            var d = 0;
            d = i.getY(k) + h;
            $(&amp;apos;#&amp;apos;+ k).css(&amp;apos;transform&amp;apos;, &amp;apos;translateY(&amp;apos;+ d + &amp;apos;px)&amp;apos;);
            $(&amp;apos;#&amp;apos;+ k).css(&amp;apos;-webkit-transform&amp;apos;, &amp;apos;translateY(&amp;apos;+ d + &amp;apos;px)&amp;apos;);
            if(d &amp;lt;= (e * - 1 - 30) || d &amp;gt;= 30) {
                i.goToEnd(d, k, e)
            } else{
                setTimeout(function() {
                    i.touchScrollRun(h, k, j, e, f)
                }, 2)
            }
        } else{
            i.goToEnd(d, k, e)
        }
    },
    goToEnd: function(c, h, e) {
        var g = this;
        var f = null;
        var d = null;
        if(e &amp;gt; 0) {
            if(c &amp;lt; (e * - 1)) {
                f = {
                    transform: &amp;apos;translateY(&amp;apos;+ (e * - 1) + &amp;apos;px)&amp;apos;,
                    &amp;apos;-webkit-transform&amp;apos;: &amp;apos;translateY(&amp;apos;+ (e * - 1) + &amp;apos;px)&amp;apos;,
                    &amp;apos;-webkit-transition&amp;apos;: &amp;apos;0.2s ease 0s&amp;apos;,
                    transition: &amp;apos;0.2s ease 0s&amp;apos;
                };
                d = {
                    transform: &amp;apos;translateY(&amp;apos;+ (e * - 1) + &amp;apos;px)&amp;apos;,
                    &amp;apos;-webkit-transform&amp;apos;: &amp;apos;translateY(&amp;apos;+ (e * - 1) + &amp;apos;px)&amp;apos;,
                    &amp;apos;-webkit-transition&amp;apos;: &amp;apos;&amp;apos;,
                    transition: &amp;apos;&amp;apos;
                }
            } else{
                if(c &amp;gt; 0) {
                    f = {
                        transform: &amp;apos;translateY(0px)&amp;apos;,
                        &amp;apos;-webkit-transform&amp;apos;: &amp;apos;translateY(0px)&amp;apos;,
                        &amp;apos;-webkit-transition&amp;apos;: &amp;apos;0.2s ease 0s&amp;apos;,
                        transition: &amp;apos;0.2s ease 0s&amp;apos;
                    };
                    d = {
                        transform: &amp;apos;translateY(0px)&amp;apos;,
                        &amp;apos;-webkit-transform&amp;apos;: &amp;apos;translateY(0px)&amp;apos;,
                        &amp;apos;-webkit-transition&amp;apos;: &amp;apos;&amp;apos;,
                        transition: &amp;apos;&amp;apos;
                    }
                }
            }
        }
        if(c != 0) {
            $(&amp;apos;#&amp;apos;+ h).css(f);
            setTimeout(function() {
                $(&amp;apos;#&amp;apos;+ h).css(d)
            }, 200);
            returntrue
        } else{
            $(&amp;apos;#&amp;apos;+ h).css({
                transform: &amp;apos;translateY(0px)&amp;apos;
            });
            $(&amp;apos;#&amp;apos;+ h).css({
                &amp;apos;-webkit-transform&amp;apos;: &amp;apos;translateY(0px)&amp;apos;
            });
            returnfalse
        }
    },
    getY: function(e) {
        var d = this;
        var c = $(&amp;apos;#&amp;apos;+ e).css(&amp;apos;transform&amp;apos;);
        if(!c) {
            c = $(&amp;apos;#&amp;apos;+ e).css(&amp;apos;-webkit-transform&amp;apos;)
        }
        if(c == &amp;apos;none&amp;apos;) {
            c = 0
        } else{
            c = c.replace(&amp;apos;translateY(&amp;apos;, &amp;apos;&amp;apos;).replace(&amp;apos;)&amp;apos;, &amp;apos;&amp;apos;);
            c = parseInt(c, 10)
        }
        if(!c) {
            c = 0
        }
        return c;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;倒计时&quot;&gt;&lt;a href=&quot;#倒计时&quot; class=&quot;headerlink&quot; title=&quot;倒计时&quot;&gt;&lt;/a&gt;倒计时&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;function timer(){  
    var ts = (new Date(2018, 11, 11, 9, 0, 0)) - (new Date());//计算剩余的毫秒数
    console.log(ts);  
    var dd = parseInt(ts / 1000 / 60 / 60 / 24, 10);//计算剩余的天数
    var hh = parseInt(ts / 1000 / 60 / 60 % 24, 10);//计算剩余的小时数
    var mm = parseInt(ts / 1000 / 60 % 60, 10);//计算剩余的分钟数
    var ss = parseInt(ts / 1000 % 60, 10);//计算剩余的秒数
    document.body.innerHTML = dd + &amp;quot;天&amp;quot; + hh + &amp;quot;时&amp;quot; + mm + &amp;quot;分&amp;quot; + ss + &amp;quot;秒&amp;quot;;  
}  
setInterval(timer,1000);
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;类jq的选择器&quot;&gt;&lt;a href=&quot;#类jq的选择器&quot; class=&quot;headerlink&quot; title=&quot;类jq的选择器&quot;&gt;&lt;/a&gt;类jq的选择器&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;!function(win, doc, undefined) {

    var slice = Array.prototype.slice

    var rId = /^#[\w\-]+/
    var rTag = /^([\w\*]+)$/
    var rCls = /^([\w\-]+)?\.([\w\-]+)/
    var rAttr = /^([\w]+)?\[([\w]+-?[\w]+?)(=(\w+))?\]/

    var makeArray = function(obj) {
        return slice.call(obj, 0)
    }
    try{
        slice.call(doc.documentElement.childNodes, 0)[0].nodeType
    } catch(e) {
        makeArray = function(obj) {
            var result = []
            for (var i = 0, len = obj.length; i &amp;lt; len; i++) {
                result[i] = obj[i]
            }
            return result
        }
    }

    function byId(id) {
        return doc.getElementById(id)
    }
    function check(attr, val, node) {
        var reg = RegExp(&amp;apos;(?:^|\\s+)&amp;apos; + val + &amp;apos;(?:\\s+|$)&amp;apos;)
        var attribute = attr === &amp;apos;className&amp;apos;
                ? node.className
                : node.getAttribute(attr)
        if (attribute) {
            if (val) {
                if (reg.test(attribute)) return true
            } else {
                return true
            }
        }
        return false
    }    
    function filter(all, attr, val) {
        var el, result = []
        var i = 0, r = 0
        while ( (el = all[i++]) ) {
            if ( check(attr, val, el) ) {
                result[r++] = el
            }
        }
        return result
    }

    function query(selector, context) {
        var s = selector, arr = []
        var context = context === undefined ? doc : typeof context === &amp;apos;string&amp;apos; ? query(context)[0] : context;
        if (!selector) return arr;
        if ( rId.test(s) ) {
            arr[0] = byId( s.substr(1, s.length) )
            return arr
        }
        if ( rTag.test(s) ) {
            return makeArray(context.getElementsByTagName(s))
        }

        if (context.querySelectorAll) {
            if (context.nodeType === 1) {
                var old = context.id, id = context.id = &amp;apos;__ZZ__&amp;apos;
                try {
                    return context.querySelectorAll(&amp;apos;#&amp;apos; + id + &amp;apos; &amp;apos; + s)
                } catch(e) {
                    throw new Error(&amp;apos;querySelectorAll: &amp;apos; + e)
                } finally {
                    old ? context.id = old : context.removeAttribute(&amp;apos;id&amp;apos;)
                }
            }
            return makeArray(context.querySelectorAll(s))
        }
        if ( rCls.test(s) ) {
            var ary = s.split(&amp;apos;.&amp;apos;)
            var tag = ary[0]
            var cls = ary[1]
            if (context.getElementsByClassName) {
                var elems = context.getElementsByClassName(cls)
                if (tag) {
                    for (var i = 0, len = elems.length; i &amp;lt; len; i++) {
                        var el = elems[i]
                        el.tagName.toLowerCase() === tag &amp;amp;&amp;amp; arr.push(el)
                    }
                    return arr
                } else {
                    return makeArray(elems)
                }
            } else {
                var all = context.getElementsByTagName(tag || &amp;apos;*&amp;apos;)
                return filter(all, &amp;apos;className&amp;apos;, cls)
            }
        }
        if ( rAttr.test(s) ) {
            var result = rAttr.exec(s)
            var all = context.getElementsByTagName(result[1] || &amp;apos;*&amp;apos;)
            return filter(all, result[2], result[4])
        }
    }
    win.z = win.z = query
}(window, document);
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;自定义滚动条&quot;&gt;&lt;a href=&quot;#自定义滚动条&quot; class=&quot;headerlink&quot; title=&quot;自定义滚动条&quot;&gt;&lt;/a&gt;自定义滚动条&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;/**
*
* 调用： f.rootTouchBind(t);
*    t:  传入调用此方法的id字符串
*/
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>js snippet(3)</title>
    <link href="http://popfly.club/posts/20160408/snippet2.html"/>
    <id>http://popfly.club/posts/20160408/snippet2.html</id>
    <published>2016-04-08T02:11:56.000Z</published>
    <updated>2017-06-13T02:33:53.417Z</updated>
    
    <content type="html">&lt;h3 id=&quot;网站变灰&quot;&gt;&lt;a href=&quot;#网站变灰&quot; class=&quot;headerlink&quot; title=&quot;网站变灰&quot;&gt;&lt;/a&gt;网站变灰&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;html{filter:grayscale(100%);-moz-filter:grayscale(100%);-o-filter:grayscale(100%);-webkit-filter:grayscale(1)}
&lt;/code&gt;&lt;/pre&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;手势事件&quot;&gt;&lt;a href=&quot;#手势事件&quot; class=&quot;headerlink&quot; title=&quot;手势事件&quot;&gt;&lt;/a&gt;手势事件&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;var touchFunc = function(obj,type,func) {
    //滑动范围在5x5内则做点击处理，s是开始，e是结束
    var init = {x:5,y:5,sx:0,sy:0,ex:0,ey:0};
    var sTime = 0, eTime = 0;
    type = type.toLowerCase();

    obj.addEventListener(&amp;quot;touchstart&amp;quot;,function(e){
        e.preventDefault();
        sTime = new Date().getTime();
        init.sx = event.targetTouches[0].pageX;
        init.sy = event.targetTouches[0].pageY;
        init.ex = init.sx;
        init.ey = init.sy;
        if(type.indexOf(&amp;quot;start&amp;quot;) != -1) func();
    }, false);

    obj.addEventListener(&amp;quot;touchmove&amp;quot;,function() {
        event.preventDefault();//阻止触摸时浏览器的缩放、滚动条滚动
        init.ex = event.targetTouches[0].pageX;
        init.ey = event.targetTouches[0].pageY;
        if(type.indexOf(&amp;quot;move&amp;quot;)!=-1) func();
    }, false);

    obj.addEventListener(&amp;quot;touchend&amp;quot;,function() {
        var changeX = init.sx - init.ex;
        var changeY = init.sy - init.ey;
        if(Math.abs(changeX)&amp;gt;Math.abs(changeY)&amp;amp;&amp;amp;Math.abs(changeY)&amp;gt;init.y) {
            //左右事件
            if(changeX &amp;gt; 0) {
                if(type.indexOf(&amp;quot;left&amp;quot;)!=-1) func();
            }else{
                if(type.indexOf(&amp;quot;right&amp;quot;)!=-1) func();
            }
        }
        else if(Math.abs(changeY)&amp;gt;Math.abs(changeX)&amp;amp;&amp;amp;Math.abs(changeX)&amp;gt;init.x){
            //上下事件
            if(changeY &amp;gt; 0) {
                if(type.indexOf(&amp;quot;top&amp;quot;)!=-1) func();
            }else{
                if(type.indexOf(&amp;quot;down&amp;quot;)!=-1) func();
            }
        }
        else if(Math.abs(changeX)&amp;lt;init.x &amp;amp;&amp;amp; Math.abs(changeY)&amp;lt;init.y){
            eTime = new Date().getTime();
            //点击事件，此处根据时间差细分下
            if((eTime - sTime) &amp;gt; 300) {
                if(type.indexOf(&amp;quot;long&amp;quot;)!=-1) func(); //长按
            }
            else {
                if(type.indexOf(&amp;quot;click&amp;quot;)!=-1) func(); //当点击处理
            }
        }
        if(type.indexOf(&amp;quot;end&amp;quot;)!=-1) func();
    }, false);
};
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;滚动事件&quot;&gt;&lt;a href=&quot;#滚动事件&quot; class=&quot;headerlink&quot; title=&quot;滚动事件&quot;&gt;&lt;/a&gt;滚动事件&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;;(function($){
    $.extend($.fn, {
      scrollTo: function(m){        
          var n = 0, timer = null, that = this;
          var smoothScroll = function(m){
              var per = Math.round(m / 50);
              n = n + per;
              if(n &amp;gt; m){
                  window.clearInterval(timer);
                  return false;
              }            
              that.scrollTop(n);
          };

          timer = window.setInterval(function(){
              smoothScroll(m);
          }, 20);
      }
    })
})(Zepto);
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;Ngrok&quot;&gt;&lt;a href=&quot;#Ngrok&quot; class=&quot;headerlink&quot; title=&quot;Ngrok&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://qydev.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ngrok&lt;/a&gt;&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;ngrok -config=ngrok.cfg -subdomain xxx 80 //(xxx 是你自定义的域名前缀)
e.g. xxx.tunnel.qydev.com
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;url解析&quot;&gt;&lt;a href=&quot;#url解析&quot; class=&quot;headerlink&quot; title=&quot;url解析&quot;&gt;&lt;/a&gt;url解析&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;function parseURL(url) {
    var a =  document.createElement(&amp;apos;a&amp;apos;);
    a.href = url;
    return {
        source: url,
        protocol: a.protocol.replace(&amp;apos;:&amp;apos;,&amp;apos;&amp;apos;),
        host: a.hostname,
        port: a.port,
        query: a.search,
        params: (function(){
            var ret = {},
                seg = a.search.replace(/^\?/,&amp;apos;&amp;apos;).split(&amp;apos;&amp;amp;&amp;apos;),
                len = seg.length, i = 0, s;
            for (;i&amp;lt;len;i++) {
                if (!seg[i]) { continue; }
                s = seg[i].split(&amp;apos;=&amp;apos;);
                ret[s[0]] = s[1];
            }
            return ret;
        })(),
        file: (a.pathname.match(/([^/?#]+)$/i) || [,&amp;apos;&amp;apos;])[1],
        hash: a.hash.replace(&amp;apos;#&amp;apos;,&amp;apos;&amp;apos;),
        path: a.pathname.replace(/^([^/])/,&amp;apos;/$1&amp;apos;),
        relative: (a.href.match(/tps?:\/[^/]+(.+)/) || [,&amp;apos;&amp;apos;])[1],
        segments: a.pathname.replace(/^\//,&amp;apos;&amp;apos;).split(&amp;apos;/&amp;apos;)
    };
}
e.g.
var myURL = parseURL(&amp;apos;http://abc.com:8080/dir/index.html?id=255&amp;amp;m=hello#top&amp;apos;);
myURL.file;     // = &amp;apos;index.html&amp;apos;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;ajax&quot;&gt;&lt;a href=&quot;#ajax&quot; class=&quot;headerlink&quot; title=&quot;ajax&quot;&gt;&lt;/a&gt;ajax&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;var ajax = function() {
       var ajax = function() {
               return (&amp;apos;XMLHttpRequest&amp;apos; in window) ? function() {
                   return new XMLHttpRequest();
               } : function() {
                   return new ActiveXObject(&amp;quot;Microsoft.XMLHTTP&amp;quot;);
               }
           }(),
           formatData = function(fd) {
               var res = &amp;apos;&amp;apos;;
               for (var f in fd) {
                   res += f + &amp;apos;=&amp;apos; + fd[f] + &amp;apos;&amp;amp;&amp;apos;;
               }
               return res.slice(0, -1);
           },
           AJAX = function(ops) {
               var
                   root = this,
                   req = ajax();
               root.url = ops.url;
               root.type = ops.type || &amp;apos;responseText&amp;apos;;
               root.method = ops.method || &amp;apos;GET&amp;apos;;
               root.async = ops.async || true;
               root.data = ops.data || {};
               root.complete = ops.complete || function() {};
               root.success = ops.success || function() {};
               root.error = ops.error || function(s) {
                   alert(root.url + &amp;apos;-&amp;gt;status:&amp;apos; + s + &amp;apos;error!&amp;apos;)
               };
               root.abort = req.abort;
               root.setData = function(data) {
                   for (var d in data) {
                       root.data[d] = data[d];
                   }
               }
               root.send = function() {
                   var datastring = formatData(root.data),
                       sendstring, get = false,
                       async = root.async,
                       complete = root.complete,
                       method = root.method,
                       type = root.type;
                   if (method === &amp;apos;GET&amp;apos;) {
                       root.url += &amp;apos;?&amp;apos; + datastring;
                       get = true;
                   }
                   req.open(method, root.url, async);
                   if (!get) {
                       req.setRequestHeader(&amp;quot;Content-type&amp;quot;, &amp;quot;application/x-www-form-urlencoded&amp;quot;);
                       sendstring = datastring;
                   }
                   req.onreadystatechange = async ? function() {
                       if (req.readyState == 4) {
                           complete();
                           if (req.status == 200) {
                               root.success(req[type]);
                           } else {
                               root.error(req.status);
                           }
                       }
                   } : null;
                   req.send(sendstring);
                   if (!async) {
                       complete();
                       root.success(req[type]);
                   }
               }
               root.url &amp;amp;&amp;amp; root.send();
           };
       return function(ops) {
           return new AJAX(ops);
       }
   }();

  e.g.
  var aj = ajax({
     url: ,
     method: ,
     data:,
     success: function(res) {},
     error: function(err) {}
 });
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;网站变灰&quot;&gt;&lt;a href=&quot;#网站变灰&quot; class=&quot;headerlink&quot; title=&quot;网站变灰&quot;&gt;&lt;/a&gt;网站变灰&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;html{filter:grayscale(100%);-moz-filter:grayscale(100%);-o-filter:grayscale(100%);-webkit-filter:grayscale(1)}
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
